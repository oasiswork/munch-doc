{
    "docs": [
        {
            "location": "/", 
            "text": "MunchMail \u2212 Guide du d\u00e9veloppeur\n\n\nMunchMail est une \nAPI REST\n permettant la gestion et l'exp\u00e9dition de d'emails\nvers \nun grand nombre de destinataires\n.\n\n\nLa solution permet \u00e9galement de \nsuivre\n l'ouverture (clics, lecture) de vos\ndestinataires, d'obtenir diverses \nstatistiques\n sur votre envoi et de g\u00e9rer\nsimplement les \nd\u00e9sinscriptions\n.\n\n\nCette documentation vise \u00e0 vous aider dans la r\u00e9alisation d'une application\nexploitant l'API MunchMail.\n\n\nPort\u00e9e\n\n\nMunchMail est :\n\n\n\n\nune API HTTP/REST\n\n\nune infrastructure d\u00e9di\u00e9e \u00e0 la remise de mails en nombre\n\n\n\n\nMunchMail n'est pas :\n\n\n\n\nune application utilisateur : c'est \u00e0 vous de construire une interface\n  exploitant MunchMail\n\n\nune relais de spam : c'est votre devoir et votre\n  responsabilit\u00e9 de respecter\n  \nles r\u00e8gles en vigueur\n\n  sur l'envoi de courriels marketting.\n\n\n\n\nVocabulaire\n\n\nEmail transactionnel vs email massif\n\n\nUn email transactionnel est destin\u00e9 pr\u00e9cis\u00e9ment \u00e0 une personne ou \u00e0 un petit\ngroupe de personnes connues.\n\n\nUn email massif est envoy\u00e9 de mani\u00e8re automatique ou manuelle \u00e0 un grand\nnombre de destinataires, il s'agit d'un outil de communication de masse.\n\n\nLes emails massifs incluent :\n\n\n\n\nles newsletters\n\n\nles communications \u00e0 destination des adh\u00e9rents d'une association\n\n\nles mails marketing\n\n\n...\n\n\n\n\nBounce\n\n\nOn parle de \nBounce\n (litt\u00e9ralement \nRebond\n) lorsqu'un mail envoy\u00e9 ne peut pas\n\u00eatre remis au destinataire. Les raisons sont multiples : adresse inexistante,\nboite satur\u00e9e, serveur mal configur\u00e9\u2026\n\n\nMunchMail se charge de d\u00e9sinscrire automatiquement les adresses produisant des\n\nbounces\n trop fr\u00e9quents, et vous en notifie.\n\n\nFonctionnement g\u00e9n\u00e9ral\n\n\nMunchMail\n d\u00e9finit plusieurs notions :\n\n\nMessage\n\n\nC'est simplement l'envoi d'un mail identique \u00e0 une liste de destinataires.\n\n\nLe \nmessage\n regroupe \u00e0 la fois le contenu lui-m\u00eame ainsi que les\nm\u00e9ta-informations (exp\u00e9diteur, param\u00e8tres d'envoi...).\n\n\nConcernant le contenu lui-m\u00eame, \nMunchMail\n requiert que vous fournissiez une\nversion HTML et se chargera de proposer aux destinataires \u00e0 la fois :\n\n\n\n\nune version de votre HTML \u00ab\u202fnettoy\u00e9e\u202f\u00bb pour respecter un certain nombre de\n  bonnes pratiques et s'afficher correctement chez tous vos destinataires (voir\n  \nd\u00e9tail des modifications\n)\n\n\nune version texte pour les clients mail ne supportant que ce format ou pour les\n  destinataires ayant fait ce choix d'affichage.\n\n\n\n\nD\u00e9sinscription (Opt-out)\n\n\nVous \ndevez\n (c'est la loi), offrir une possibilit\u00e9 \u00e0 vos destinataires de se\nd\u00e9sinscrire de vos envois. \nMunchMail\n g\u00e8re cela pour vous :\n\n\n\n\nun lien est inclus en bas des emails pour offrir cette possibilit\u00e9 ;\n\n\nune adresse de d\u00e9sinscription est encod\u00e9e dans le mail. Certains clients de\n  mail (\ngmail\n notamment) exploitent cette adresse pour fournir automatiquement\n  un bouton \u00ab se d\u00e9sinscrire \u00bb directement depuis leur interface.\n\n\nsi un de vos destinataires marque le courriel comme \nspam\n, et que son\n  h\u00e9bergeur nous le notifie, il sera d\u00e9sinscrit\n\n\nsi une adresse \nbounce\n trop souvent, elle sera d\u00e9sinscrite\n\n\n\n\nVous ne pouvez pas passer outre ces \nr\u00e9siliations\n. Cependant, dans certains cas\nsp\u00e9cifiques, nous pouvons rediriger vos destinataires vers un moyen de vous\ncontacter plut\u00f4t que de leur proposer une d\u00e9sinscription en ligne.\n\n\nExemple : Communication d'une association \u00e0 ses membres, o\u00f9 le refus de recevoir\n les informations \u00e9quivaut \u00e0 quitter l'association.\n\n\nCette fonctionnalit\u00e9 n'est activ\u00e9e qu'au cas par cas, merci de nous contacter.\n\n\nVotre compte MunchMail\n\n\nIl est cr\u00e9\u00e9 sur demande aupr\u00e8s d'OasisWork, merci de\n\nnous contacter\n.\n\n\nPour la cr\u00e9ation du compte, vous seront demand\u00e9es :\n\n\n\n\nUne adresse email principale, qui constituera votre login pour parcourir l'API\n  dans votre navigateur.\n\n\nune adresse email de notifications qui recevra les notifications de suivi de\n  vos envois (d\u00e9but/fin d'envoi et d\u00e9sinscriptions).\n\n\n\n\nVous seront ensuite communiqu\u00e9es :\n\n\n\n\nUn mot de passe utilisateur pour l'\nAPI navigable\n, \u00e0 utiliser avec\n  l'email principal\n\n\nUne \nclef d'API\n pour la connexion de votre application \u00e0 MunchMail\n\n\n\n\nConfiguration DNS requise\n\n\nPour un \ntaux de remise\n optimal de vos messages, nous respectons un certain\nnombre de bonne pratiques. \nMunchMail\n g\u00e8re l'essentiel de ces pratiques pour\nvous. Cependant, certaines op\u00e9rations sur le nom de domaine \nrestent \u00e0 votre\ncharge\n, elles sont obligatoires, le syst\u00e8me \nrefusera d'envoyer des emails\ndepuis votre domaine\n tant qu'elles ne sont pas remplies.\n\n\nEnregistrement SPF\n\n\nL'enregistrement \nSPF\n (\nSender Policy Framework\n) permet d'autoriser nos\nserveurs \u00e0 envoyer des mails en provenance de votre domaine.\n\n\nSi vous souhaitez envoyer vos emails depuis \nelvis@mailling.example.com\n, vous\ndevez ajouter un enregistrement \nTXT\n sur le domaine \nmailling.example.com\n.\n\n\nA-minima, si vous ne disposez pas encore d'un enregistrement SPF sur votre\ndomaine, vous pouvez ajouter quelque chose comme :\n\n\nmailling.example.com. 720 IN TXT \"v=spf1 include:_spf.munchmail.net ?all\"\n\n\n\nSi vous disposez d\u00e9j\u00e0 d'un enregistrement SPF, vous pouvez vous contenter\nd'ajouter la r\u00e8gle \ninclude:_spf.munchmail.net\n \u00e0 votre cha\u00eene afin\nd'autoriser nos serveurs.\n\n\nPlus d'informations sur SPF\n.\n\n\nEnregistrement DKIM\n\n\nL'enregistrement \nDKIM\n (\nDomain Keys Identified Mail\n) permet d'autoriser nos\nserveurs \u00e0 signer cryptographiquement les mails envoy\u00e9s en votre nom avec notre\npropre clef.\n\n\nSi vous souhaitez envoyer vos emails depuis \nelvis@mailling.example.com\n, vous\ndevez ajouter l'enregistrement \nTXT\n suivant :\n\n\nmunchmail-mta._domainkey.mailling.example.com.  500 IN TXT \"v=DKIM1\\; k=rsa\\; t=y\\; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDUOpGbKv4CiE0Wpv6z/lPx7gVKsqirF45wvySQwBampWcVbB152vBG59bFEtCmk9fwelon7JPAazFH67VhgVbCdGh+oZ2+iMnfRzo7yA1SaR2UeFXQUdxVvkDE5tf194/groY07fOyb5ukuYZMI35/8xrhmYed+yQz/RDchTprUQIDAQAB\"", 
            "title": "Guide du d\u00e9veloppeur"
        }, 
        {
            "location": "/#munchmail-guide-du-developpeur", 
            "text": "MunchMail est une  API REST  permettant la gestion et l'exp\u00e9dition de d'emails\nvers  un grand nombre de destinataires .  La solution permet \u00e9galement de  suivre  l'ouverture (clics, lecture) de vos\ndestinataires, d'obtenir diverses  statistiques  sur votre envoi et de g\u00e9rer\nsimplement les  d\u00e9sinscriptions .  Cette documentation vise \u00e0 vous aider dans la r\u00e9alisation d'une application\nexploitant l'API MunchMail.", 
            "title": "MunchMail \u2212 Guide du d\u00e9veloppeur"
        }, 
        {
            "location": "/#portee", 
            "text": "MunchMail est :   une API HTTP/REST  une infrastructure d\u00e9di\u00e9e \u00e0 la remise de mails en nombre   MunchMail n'est pas :   une application utilisateur : c'est \u00e0 vous de construire une interface\n  exploitant MunchMail  une relais de spam : c'est votre devoir et votre\n  responsabilit\u00e9 de respecter\n   les r\u00e8gles en vigueur \n  sur l'envoi de courriels marketting.", 
            "title": "Port\u00e9e"
        }, 
        {
            "location": "/#vocabulaire", 
            "text": "Email transactionnel vs email massif  Un email transactionnel est destin\u00e9 pr\u00e9cis\u00e9ment \u00e0 une personne ou \u00e0 un petit\ngroupe de personnes connues.  Un email massif est envoy\u00e9 de mani\u00e8re automatique ou manuelle \u00e0 un grand\nnombre de destinataires, il s'agit d'un outil de communication de masse.  Les emails massifs incluent :   les newsletters  les communications \u00e0 destination des adh\u00e9rents d'une association  les mails marketing  ...   Bounce  On parle de  Bounce  (litt\u00e9ralement  Rebond ) lorsqu'un mail envoy\u00e9 ne peut pas\n\u00eatre remis au destinataire. Les raisons sont multiples : adresse inexistante,\nboite satur\u00e9e, serveur mal configur\u00e9\u2026  MunchMail se charge de d\u00e9sinscrire automatiquement les adresses produisant des bounces  trop fr\u00e9quents, et vous en notifie.", 
            "title": "Vocabulaire"
        }, 
        {
            "location": "/#fonctionnement-general", 
            "text": "MunchMail  d\u00e9finit plusieurs notions :  Message  C'est simplement l'envoi d'un mail identique \u00e0 une liste de destinataires.  Le  message  regroupe \u00e0 la fois le contenu lui-m\u00eame ainsi que les\nm\u00e9ta-informations (exp\u00e9diteur, param\u00e8tres d'envoi...).  Concernant le contenu lui-m\u00eame,  MunchMail  requiert que vous fournissiez une\nversion HTML et se chargera de proposer aux destinataires \u00e0 la fois :   une version de votre HTML \u00ab\u202fnettoy\u00e9e\u202f\u00bb pour respecter un certain nombre de\n  bonnes pratiques et s'afficher correctement chez tous vos destinataires (voir\n   d\u00e9tail des modifications )  une version texte pour les clients mail ne supportant que ce format ou pour les\n  destinataires ayant fait ce choix d'affichage.   D\u00e9sinscription (Opt-out)  Vous  devez  (c'est la loi), offrir une possibilit\u00e9 \u00e0 vos destinataires de se\nd\u00e9sinscrire de vos envois.  MunchMail  g\u00e8re cela pour vous :   un lien est inclus en bas des emails pour offrir cette possibilit\u00e9 ;  une adresse de d\u00e9sinscription est encod\u00e9e dans le mail. Certains clients de\n  mail ( gmail  notamment) exploitent cette adresse pour fournir automatiquement\n  un bouton \u00ab se d\u00e9sinscrire \u00bb directement depuis leur interface.  si un de vos destinataires marque le courriel comme  spam , et que son\n  h\u00e9bergeur nous le notifie, il sera d\u00e9sinscrit  si une adresse  bounce  trop souvent, elle sera d\u00e9sinscrite   Vous ne pouvez pas passer outre ces  r\u00e9siliations . Cependant, dans certains cas\nsp\u00e9cifiques, nous pouvons rediriger vos destinataires vers un moyen de vous\ncontacter plut\u00f4t que de leur proposer une d\u00e9sinscription en ligne.  Exemple : Communication d'une association \u00e0 ses membres, o\u00f9 le refus de recevoir\n les informations \u00e9quivaut \u00e0 quitter l'association.  Cette fonctionnalit\u00e9 n'est activ\u00e9e qu'au cas par cas, merci de nous contacter.", 
            "title": "Fonctionnement g\u00e9n\u00e9ral"
        }, 
        {
            "location": "/#votre-compte-munchmail", 
            "text": "Il est cr\u00e9\u00e9 sur demande aupr\u00e8s d'OasisWork, merci de nous contacter .  Pour la cr\u00e9ation du compte, vous seront demand\u00e9es :   Une adresse email principale, qui constituera votre login pour parcourir l'API\n  dans votre navigateur.  une adresse email de notifications qui recevra les notifications de suivi de\n  vos envois (d\u00e9but/fin d'envoi et d\u00e9sinscriptions).   Vous seront ensuite communiqu\u00e9es :   Un mot de passe utilisateur pour l' API navigable , \u00e0 utiliser avec\n  l'email principal  Une  clef d'API  pour la connexion de votre application \u00e0 MunchMail", 
            "title": "Votre compte MunchMail"
        }, 
        {
            "location": "/#configuration-dns-requise", 
            "text": "Pour un  taux de remise  optimal de vos messages, nous respectons un certain\nnombre de bonne pratiques.  MunchMail  g\u00e8re l'essentiel de ces pratiques pour\nvous. Cependant, certaines op\u00e9rations sur le nom de domaine  restent \u00e0 votre\ncharge , elles sont obligatoires, le syst\u00e8me  refusera d'envoyer des emails\ndepuis votre domaine  tant qu'elles ne sont pas remplies.  Enregistrement SPF  L'enregistrement  SPF  ( Sender Policy Framework ) permet d'autoriser nos\nserveurs \u00e0 envoyer des mails en provenance de votre domaine.  Si vous souhaitez envoyer vos emails depuis  elvis@mailling.example.com , vous\ndevez ajouter un enregistrement  TXT  sur le domaine  mailling.example.com .  A-minima, si vous ne disposez pas encore d'un enregistrement SPF sur votre\ndomaine, vous pouvez ajouter quelque chose comme :  mailling.example.com. 720 IN TXT \"v=spf1 include:_spf.munchmail.net ?all\"  Si vous disposez d\u00e9j\u00e0 d'un enregistrement SPF, vous pouvez vous contenter\nd'ajouter la r\u00e8gle  include:_spf.munchmail.net  \u00e0 votre cha\u00eene afin\nd'autoriser nos serveurs.  Plus d'informations sur SPF .  Enregistrement DKIM  L'enregistrement  DKIM  ( Domain Keys Identified Mail ) permet d'autoriser nos\nserveurs \u00e0 signer cryptographiquement les mails envoy\u00e9s en votre nom avec notre\npropre clef.  Si vous souhaitez envoyer vos emails depuis  elvis@mailling.example.com , vous\ndevez ajouter l'enregistrement  TXT  suivant :  munchmail-mta._domainkey.mailling.example.com.  500 IN TXT \"v=DKIM1\\; k=rsa\\; t=y\\; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDUOpGbKv4CiE0Wpv6z/lPx7gVKsqirF45wvySQwBampWcVbB152vBG59bFEtCmk9fwelon7JPAazFH67VhgVbCdGh+oZ2+iMnfRzo7yA1SaR2UeFXQUdxVvkDE5tf194/groY07fOyb5ukuYZMI35/8xrhmYed+yQz/RDchTprUQIDAQAB\"", 
            "title": "Configuration DNS requise"
        }, 
        {
            "location": "/api/intro/", 
            "text": "L'API\n\n\nL'API est accessible \u00e0 l'adresse \nhttps://api.munchmail.net\n. Elle\nrequiert une authentification pour fonctionner.\n\n\nElle suit les principes\n\nHTTP/REST\n, et utilise\nle format \nJSON\n, ce\nqui la rend exploitable depuis un grand nombre de langages de programmation.\n\n\nPoints notables\n\n\n\n\nLes urls des objets (rappel\u00e9s dans des attributs \nurl\n de chaque ressource)\n  constituent l'identifiant unique d'un objet dans le syst\u00e8me. Elles\n  peuvent-\u00eatre utilis\u00e9es \u00e0 la fois pour consulter l'objet (requ\u00eate \nGET\n) ou le\n  modifier (requ\u00eate \nPUT\n ou \nPATCH\n).\n\n\nSi acc\u00e9d\u00e9e depuis un client \nHTTP\n ne pr\u00e9sentant pas de \nContent-type\n (ex:\n  \nphp5-curl\n), l'API dialogue par d\u00e9faut en JSON (cela peut\n  \n\u00eatre chang\u00e9\n).\n\n\n\n\nPagination\n\n\nLes requ\u00eates renvoyant des listes d'objets sont \npagin\u00e9es\n, elles adoptent la structure suivante :\n\n\n{\n    \"count\": 78,\n    \"next\": \"https://api.munchmail.net/v1/mails/?page=2\",\n    \"previous\": null,\n    \"page_count\": 2,\n    \"results\": [\n\n    ...\n\n    ]\n}\n\n\n\nLes liens \"next\" et \"previous\" permettent d'aller \u00e0 la page suivante ou\npr\u00e9c\u00e9dente sans se poser d'autre question.\n\n\nVous pouvez augmenter le nombre d'objets par page (maximum : 1000) en ajoutant le\nquerystring \npage_size\n. Par exemple, pour avoir des pages de 200 objets,\najoutez\n?page_size=200\n \u00e0 l'URL.\n\n\nCrit\u00e8re de tri\n\n\nIl est possible d'indiquer un crit\u00e8re de tri pour chaque vue de l'API pr\u00e9sentant\nune liste  gr\u00e2ce au param\u00e8tre \nordering\n. Par exemple, pour avoir les \nmails\n\nd'un message par adresse d'exp\u00e9diteur anti-alphab\u00e9tique (noter le \u00ab\u00a0\n-\n\u00a0\u00bb) :\n\n\nGET /messages/?ordering=-address\n\n\n\nVous pouvez obtenir la liste des crit\u00e8res de tri / filtre disponibles et le\ncrit\u00e8re de tri par d\u00e9faut directement depuis l'\nAPI navigable\n\n(ex, pour les messages :\n\n/v1/messages/\n).\n\n\nFiltrage des r\u00e9sultats\n\n\nToutes les vues en liste vous permettent de filtrer les r\u00e9sultats selon des\nvaleurs de champs en sp\u00e9cifiant le champ et la valeur en\n\nquerystring\n.\n\n\nPar exemple, pour avoir tous les mails d\u00e9livr\u00e9s avec succ\u00e8s :\n\n\nGET /v1/mails/?last_status=delivered\n\n\n\nLes crit\u00e8res de filtrage sont les m\u00eames que ceux disponibles\n\npour le tri\n.\n\n\nAPI navigable\n\n\nL'API est \nnavigable\n, en acc\u00e9dant \u00e0\n\nhttps://api.munchmail.net/v1\n\ndirectement depuis votre navigateur, puis en vous\n\nauthentifiant avec votre email\n, vous\npouvez exploiter toutes les possibilit\u00e9s offertes \u00e0 votre application depuis une\ninterface conviviale, con\u00e7ue pour les humains.\n\n\nCet usage est \u00e9videmment \u00e0 r\u00e9server \u00e0 des fins de debug et de test. Elle n'est\nen aucun cas une interface pour les utilisateurs finaux.\n\n\nLes \nattributs des diff\u00e9rentes ressources\n sont document\u00e9es de mani\u00e8re\npr\u00e9cise au sein de cette interface.", 
            "title": "Introduction"
        }, 
        {
            "location": "/api/intro/#lapi", 
            "text": "L'API est accessible \u00e0 l'adresse  https://api.munchmail.net . Elle\nrequiert une authentification pour fonctionner.  Elle suit les principes HTTP/REST , et utilise\nle format  JSON , ce\nqui la rend exploitable depuis un grand nombre de langages de programmation.", 
            "title": "L'API"
        }, 
        {
            "location": "/api/intro/#points-notables", 
            "text": "Les urls des objets (rappel\u00e9s dans des attributs  url  de chaque ressource)\n  constituent l'identifiant unique d'un objet dans le syst\u00e8me. Elles\n  peuvent-\u00eatre utilis\u00e9es \u00e0 la fois pour consulter l'objet (requ\u00eate  GET ) ou le\n  modifier (requ\u00eate  PUT  ou  PATCH ).  Si acc\u00e9d\u00e9e depuis un client  HTTP  ne pr\u00e9sentant pas de  Content-type  (ex:\n   php5-curl ), l'API dialogue par d\u00e9faut en JSON (cela peut\n   \u00eatre chang\u00e9 ).", 
            "title": "Points notables"
        }, 
        {
            "location": "/api/intro/#pagination", 
            "text": "Les requ\u00eates renvoyant des listes d'objets sont  pagin\u00e9es , elles adoptent la structure suivante :  {\n    \"count\": 78,\n    \"next\": \"https://api.munchmail.net/v1/mails/?page=2\",\n    \"previous\": null,\n    \"page_count\": 2,\n    \"results\": [\n\n    ...\n\n    ]\n}  Les liens \"next\" et \"previous\" permettent d'aller \u00e0 la page suivante ou\npr\u00e9c\u00e9dente sans se poser d'autre question.  Vous pouvez augmenter le nombre d'objets par page (maximum : 1000) en ajoutant le\nquerystring  page_size . Par exemple, pour avoir des pages de 200 objets,\najoutez ?page_size=200  \u00e0 l'URL.", 
            "title": "Pagination"
        }, 
        {
            "location": "/api/intro/#critere-de-tri", 
            "text": "Il est possible d'indiquer un crit\u00e8re de tri pour chaque vue de l'API pr\u00e9sentant\nune liste  gr\u00e2ce au param\u00e8tre  ordering . Par exemple, pour avoir les  mails \nd'un message par adresse d'exp\u00e9diteur anti-alphab\u00e9tique (noter le \u00ab\u00a0 - \u00a0\u00bb) :  GET /messages/?ordering=-address  Vous pouvez obtenir la liste des crit\u00e8res de tri / filtre disponibles et le\ncrit\u00e8re de tri par d\u00e9faut directement depuis l' API navigable \n(ex, pour les messages : /v1/messages/ ).", 
            "title": "Crit\u00e8re de tri"
        }, 
        {
            "location": "/api/intro/#filtrage-des-resultats", 
            "text": "Toutes les vues en liste vous permettent de filtrer les r\u00e9sultats selon des\nvaleurs de champs en sp\u00e9cifiant le champ et la valeur en querystring .  Par exemple, pour avoir tous les mails d\u00e9livr\u00e9s avec succ\u00e8s :  GET /v1/mails/?last_status=delivered  Les crit\u00e8res de filtrage sont les m\u00eames que ceux disponibles pour le tri .", 
            "title": "Filtrage des r\u00e9sultats"
        }, 
        {
            "location": "/api/intro/#api-navigable", 
            "text": "L'API est  navigable , en acc\u00e9dant \u00e0 https://api.munchmail.net/v1 \ndirectement depuis votre navigateur, puis en vous authentifiant avec votre email , vous\npouvez exploiter toutes les possibilit\u00e9s offertes \u00e0 votre application depuis une\ninterface conviviale, con\u00e7ue pour les humains.  Cet usage est \u00e9videmment \u00e0 r\u00e9server \u00e0 des fins de debug et de test. Elle n'est\nen aucun cas une interface pour les utilisateurs finaux.  Les  attributs des diff\u00e9rentes ressources  sont document\u00e9es de mani\u00e8re\npr\u00e9cise au sein de cette interface.", 
            "title": "API navigable"
        }, 
        {
            "location": "/api/auth/", 
            "text": "Authentification\n\n\nLa communication est chiffr\u00e9e via HTTPS.\n\n\n\n\nNous \nauthentifions votre application\n (\nclef d'API\n) et isolons vos donn\u00e9es\n  de celles de nos autres clients\n\n\nVotre application \nauthentifie notre serveur\n (\ncertificat serveur\n)\n\n\nLe traffic entre votre application et notre serveur est \nchiffr\u00e9\n\n\n\n\nAuthentification par session (pour tests/debug)\n\n\nVous pouvez vous authentifier avec votre email et votre mot de passe, dans un\nnavigateur, \u00e0 l'adresse\n\nhttps://api.munchmail.net/v1/api-auth/login/\n.\n\n\nPar clef d'API (HTTP Basic)\n\n\nR\u00e9cup\u00e9rer la clef d'API\n\n\nUne fois connect\u00e9 via la m\u00e9thode pr\u00e9c\u00e9dente, vous pouvez vous rendre \u00e0 l'adresse\n\nhttps://api.munchmail.net/v1/profile/\n\npour r\u00e9cup\u00e9rer la clef d'API de votre propre utilisateur humain.\n\n\nVous \u00e9galement aussi r\u00e9cup\u00e9rer la clef d'une application via\n\nhttps://api.munchmail.net/v1/users/\n\n\nS'authentifier\n\n\nL'authentification de cette API s'appuie sur le m\u00e9canisme standard\n\nHTTP Basic\n,\n\n\nR\u00e9f\u00e9rez-vous \u00e0 la documentation de votre langage de programmation pour savoir\ncomment utiliser l'authentification \nHTTP Basic\n.\n\n\nLes d\u00e9tails \u00e0 fournir sont :\n\n\n\n\nlogin : \n\u00ab api \u00bb\n\n\npassword : votre clef d'API (commen\u00e7ant par \n\u00ab key- \u00bb\n)\n\n\n\n\nLes d\u00e9tails d'authentification sont \u00e0 attacher \u00e0 chaque requ\u00eate.\n\n\nL'authentification est abord\u00e9e notamment dans nos\n\nexemples pour PHP\n.", 
            "title": "Authentification & utilisateurs"
        }, 
        {
            "location": "/api/auth/#authentification", 
            "text": "La communication est chiffr\u00e9e via HTTPS.   Nous  authentifions votre application  ( clef d'API ) et isolons vos donn\u00e9es\n  de celles de nos autres clients  Votre application  authentifie notre serveur  ( certificat serveur )  Le traffic entre votre application et notre serveur est  chiffr\u00e9", 
            "title": "Authentification"
        }, 
        {
            "location": "/api/auth/#authentification-par-session-pour-testsdebug", 
            "text": "Vous pouvez vous authentifier avec votre email et votre mot de passe, dans un\nnavigateur, \u00e0 l'adresse https://api.munchmail.net/v1/api-auth/login/ .", 
            "title": "Authentification par session (pour tests/debug)"
        }, 
        {
            "location": "/api/auth/#par-clef-dapi-http-basic", 
            "text": "R\u00e9cup\u00e9rer la clef d'API  Une fois connect\u00e9 via la m\u00e9thode pr\u00e9c\u00e9dente, vous pouvez vous rendre \u00e0 l'adresse https://api.munchmail.net/v1/profile/ \npour r\u00e9cup\u00e9rer la clef d'API de votre propre utilisateur humain.  Vous \u00e9galement aussi r\u00e9cup\u00e9rer la clef d'une application via https://api.munchmail.net/v1/users/  S'authentifier  L'authentification de cette API s'appuie sur le m\u00e9canisme standard HTTP Basic ,  R\u00e9f\u00e9rez-vous \u00e0 la documentation de votre langage de programmation pour savoir\ncomment utiliser l'authentification  HTTP Basic .  Les d\u00e9tails \u00e0 fournir sont :   login :  \u00ab api \u00bb  password : votre clef d'API (commen\u00e7ant par  \u00ab key- \u00bb )   Les d\u00e9tails d'authentification sont \u00e0 attacher \u00e0 chaque requ\u00eate.  L'authentification est abord\u00e9e notamment dans nos exemples pour PHP .", 
            "title": "Par clef d'API (HTTP Basic)"
        }, 
        {
            "location": "/api/tutoriel/", 
            "text": "Tutoriel : Un envoi de A \u00e0 Z\n\n\nLes \u00e9tapes de la vie d'un message sont :\n\n\n\n\nCr\u00e9ation/\u00e9dition d'un message avec ses attributs\n\n\nAjout/modification d'une liste de destinataires\n\n\nPr\u00e9visualisation et envoi \u00e0 quelques destinataires \u00ab\u202fpilotes\u202f\u00bb\n\n\nD\u00e9clenchement de l'envoi\n\n\nSuivi des envois\n\n\n\n\nTant que le message n'est pas envoy\u00e9 (\u00e9tape 4.), il peut-\u00eatre modifi\u00e9.\n\n\n1. Cr\u00e9ation/\u00e9dition d'un message avec ses attributs\n\n\nPOST /v1/messages/\n{\n    \"name\"         :\"Newsletter de Juillet\",\n    \"sender_email\" :\"newsletter@example.com\",\n    \"sender_name\"  :\"Communication ACME chaussures\",\n    \"subject\": \"Tu peux faire tout ce que tu veux\",\n    \"html\": \"\nh1\nMais ne marche pas sur mes chaussures en su\u00e9dine bleue\n/h1\n\"\n}\n\n\n\n\n\nname\n : Le nom interne donn\u00e9 au message, il ne sera pas visible de vos\n   destinataires.\n\n\nsender_email\n : le mail d'exp\u00e9diteur du message, le domaine de cette\n    adresse doit pr\u00e9alablement avoir \u00e9t\u00e9 \nconfigur\u00e9 correctement\n.\n\n\nsender_name\n : le nom de l'exp\u00e9diteur, qui appara\u00eetra dans le client mail de\n   vos destinataires.\n\n\nsubject\n : Le sujet de votre email.\n\n\nhtml\n : Le corps en HTML de votre email.\n\n\n\n\n\n\nDes \noptions de suivi\n des messages sont \u00e9galement disponibles.\n\n\n\n\nLe message fourni dans le param\u00e8tre \nhtml\n fera l'objet de plusieurs\ntraitements :\n\n\n\n\nUn \u00ab nettoyage \u00bb pour appara\u00eetre au mieux sur tous les clients mail (voir\n  \nliste des traitements appliqu\u00e9s\n)\n\n\nLa g\u00e9n\u00e9ration d'une version \u00ab texte brut \u00bb \u00e0 partir de ce dernier, fourni en\n  tant qu'alternative (il est n\u00e9cessaire de fournir une version texte brut\n  dans les emails).\n\n\nUn test anti-spam, pour v\u00e9rifier qu'il ne risque pas d'\u00eatre consid\u00e9r\u00e9 comme\n  spam.\n\n\n\n\n\n\n\u24d8 Facultativement, un message peut-\u00eatre rattach\u00e9 \u00e0 une cat\u00e9gorie, ce\npoint est trait\u00e9 dans la \nsection d\u00e9di\u00e9e de la documentation\n.\n\n\n\n\nSi tout se passe bien, l'API devrait vous retourner :\n\n\nHTTP 201 CREATED\n{\n    \"url\": \"https://api.munchmail.net/v1/messages/4/\",\n    \"name\": \"ACME \u2212 Newsletter Juillet\",\n    \"sender_email\": \"newsletter@example.com\",\n    \"sender_name\": \"Communication ACME chaussures\",\n    \"subject\": \"Tu peux faire tout ce que tu veux\",\n    \"html\": \"\nh1\nMais ne marche pas sur mes chaussures en su\u00e9dine bleue\n/h1\n\"\n    \"status\": \"message_ok\",\n    \"category\": null,\n    \"mail_count\": 0,\n    \"creation_date\": \"2015-01-12T15:37:29.803Z\",\n    \"send_date\": null,\n    \"completion_date\": null,\n    \"external_optout\": false,\n    \"detach_images\": false,\n    \"spam_score\": 0.0,\n    \"is_spam\": false,\n    \"msg_issue\": \"\",\n    \"_links\": {\n        \"preview_send\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/preview_send/\"\n        },\n        \"preview\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/preview/\"\n        },\n        \"preview/.html\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/preview/.html/\"\n        },\n        \"preview/.txt\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/preview/.txt/\"\n        },\n        \"mails\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/mails/\"\n        },\n        \"spam_details\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/spam_details/\"\n        }\n    }\n}\n\n\n\nNotons quelques champs :\n\n\n\n\nurl\n est \u00e0 conserver, elle vous permet d'acc\u00e9der \u00e0 votre message pour la\n   visualiser ou la modifier.\n\n\nstatus\n nous donne l'\u00e9tat courant du message\n\n\nmails\n est un lien vers la liste des destinataires et leur \u00e9tat courant (voir\n   \n\u00e9tape 2\n)\n\n\nmail_count\n un compteur du nombre de destinataires\n\n\npreview\n Permet de voir un r\u00e9sum\u00e9 du message ; utile notamment avant de\n   \nvalider le message\n\n\nis_spam\n devrait vous alerter si il est \u00e0 \ntrue\n (viser le z\u00e9ro de\n    \nspam_score\n peut-\u00eatre un bon objectif), le syst\u00e8me \nrefusera quoi qu'il\n    en soit d'envoyer\n un message consid\u00e9r\u00e9 comme spam ;\n\n\nspam_details\n permet d'acc\u00e9der au bar\u00e8me d\u00e9taill\u00e9 du \nspam_score\n, afin de\n    pouvoir apporter les modifications n\u00e9cessaires au contenu de \nhtml\n.\n\n\npreview\n, \nhtml_preview\n et \nplaintext_preview\n permettent d'avoir une\n    id\u00e9e du code et du rendu du mail une fois \u00ab\u202fnettoy\u00e9\u202f\u00bb par MunchMail (voir \nPr\u00e9visualisation\n)\n\n\npreview_send\n Permet d'envoyer le message \u00e0 quelques destinataires de test\n    (voir \nplus bas\n)\n\n\n\n\nEn cas d'erreur, vous recevrez une erreur 400 d\u00e9taillant le ou les probl\u00e8mes,\nqui peuvent notamment concerner les enregistrements\n\nDKIM\n et \nSPF\n\n\nHTTP 400 BAD REQUEST\n{\n    \"sender_email\": [\n        \"Le champ SPF pour example.com est mal configur\\u00e9\",\n        \"Pas de configuration DKIM pour le domaine example.com\"\n    ]\n}\n\n\n\nEn cas d'erreur de validation, \nle message n'est pas cr\u00e9\u00e9\n.\n\n\nPour \nmodifier\n le message , il faut effectuer une requ\u00eate de type \nPUT\n \u00e0\nl'adresse retourn\u00e9e dans l'attribut \nurl\n en envoyant la totalit\u00e9 du contenu\nde l'objet, modifi\u00e9 comme souhait\u00e9.\n\n\n\u00c0 propos de la r\u00e9daction du corps HTML\n\n\nSi la m\u00e9thode qui donne les meilleurs r\u00e9sultats est de r\u00e9diger ce document HTML\n\u00e0 la main, il peut \u00e9galement \u00eatre produit avec un \u00e9diteur WYSIWYG, un traitement\nde texte\u2026 etc.\n\n\nPour des conseils sur la r\u00e9daction de mails en HTML, vous pouvez vous r\u00e9f\u00e9rer \u00e0\n\nce guide\n ou encore\n\nce d\u00e9p\u00f4t d'exemples\n.\n\n\n2. Ajout/modification d'une liste de destinataires\n\n\nIl est possible d'ajouter des destinataires soit un par un, soit en lots :\n\n\n(on utilise l'URL point\u00e9e par l'attribut \n_links.message\n de notre objet, voir\n\u00e9tape pr\u00e9c\u00e9dente).\n\n\nAjout des destinataires un par un\n\n\nIl suffit de faire autant de requ\u00eates POST que de destinataires \u00e0 ajouter.\n\n\nPOST /v1/mails/\n{\n    \"to\" : \"mon-destinataire@domaine.tld\",\n    \"message\": \"https://api.munchmail.net/v1/messages/4/\"\n}\n\n\n\nLes codes de retours HTTP sont :\n\n\n\n\n201 (created)\n si tout se passe bien\n\n\n400 (bad request)\n si l'email est invalide (adresse mal form\u00e9e ou domaine\nnon habilit\u00e9 \u00e0 recevoir du courriel)\n\n\n\n\nPar exemple\u2026\n\n\n POST /v1/mails/\n {\n    \"to\" : \"jenesuispasunemail\",\n    \"message\": \"https://api.munchmail.net/v1/messages/4/\"\n }\n\n\n\n\u2026 retournera\n\n\n400 BAD REQUEST\n{\n    \"to\": [\n       \"Saisissez une adresse de courriel valide.\"\n    ]\n}\n\n\n\nAjout des destinataires par lot\n\n\nPOST /v1/mails/\n[\n    {\"to\" : \"john@domaine.tld\",    \"message\": \"https://api.munchmail.net/v1/messages/4/\"},\n    {\"to\" : \"jane@domaine.tld\",    \"message\": \"https://api.munchmail.net/v1/messages/4/\"},\n    {\"to\" : \"jack@inexistant.tld\", \"message\": \"https://api.munchmail.net/v1/messages/4/\"},\n]\n\n\n\nLorsque vous ajoutez les destinataires par lot, l'API accepte qu'une partie des\nadresses soit invalide, les autres seront quand-m\u00eame ins\u00e9r\u00e9es, un \n201\n sera\ndonc toujours renvoy\u00e9, sauf dans les cas d'erreur globale ou une code \n400\n\nest retourn\u00e9  (ex: la requ\u00eate ne contient pas de JSON valide).\n\n\nLe format de retour de la requ\u00eate d'ajout multiple de destinataires est le\nsuivant :\n\n\n201 CREATED\n{\n    \"success_count\": 2,\n    \"failed\": {\n        \"jack@inexstant.tld\": {\n            \"to\": [\"Le domaine inexistant.tld  ne semble pas \u00eatre configur\u00e9 pour la r\u00e9ception des emails.\"]\n        }\n}\n\n\n\n\n\n\u24d8 l'API\n \nrefusera les ajouts de plus de 10 000 destinataires\n \nen une\n seule requ\u00eate (HTTP 400).\n\n\nEn outre, s\u00e9parer en lots de moins de 10 000 destinataires permet \u00e0 votre\n application de suivre la progression de l'ajout des destinataires \u00e9tape par\n \u00e9tape.\n\n\n\n\n3. Pr\u00e9visualisation et envoi \u00e0 quelques destinataires \u00ab\u202fpilotes\u202f\u00bb\n\n\nPr\u00e9visualisation\n\n\nUne vue de validation est offerte sur les \nmessages\n ; comme toutes les actions\nli\u00e9es aux ressources, son URL est propos\u00e9e dans l'attribut \n_links\n ; celle-ci\nl'est sous le nom \npreview_send\n.\n\n\nOn appelle la pr\u00e9visualisation :\n\n\nGET /v1/messages/4/preview/\n\n\n\n\u2026 elle retourne :\n\n\nHTTP 200 OK\n{\n    \nrecipients\n: [\n        \nmon-destinataire@domaine.tld\n,\n        \njohn@domaine.tld\n,\n        \nfox@autre-domaine.tld\n\n    ],\n    \nexcluded_recipients\n: [\n        \njane@domaine.tld\n,\n    ],\n    \nspam_score\n: 0.0,\n    \nis_spam\n: false,\n    \nhtml_message\n: \ndiv\nbody\nh1\nMais ne marche pas sur mes chaussures en su\\u00e9dine bleue\n/h1\np style=\\\nfont-size: small\\\na href=\\\nUNSUBSCRIBE_URL\\\nSe d\\u00e9sinscrire\n/a\n pour ne plus recevoir ces emails\n/p\n/body\n/div\n,\n    \nplaintext_message\n: \n# Mais ne marche pas sur mes chaussures en su\\u00e9dine bleue\\n\\n[Se d\\u00e9sinscrire][1] pour ne plus recevoir ces emails\\n\\n   [1]: UNSUBSCRIBE_URL\\n\\n\n\n}\n\n\n\n\n\n\nrecipients\n et \nexcluded_recipients\n se partagent les destinataires que\n    vous avez d\u00e9finis \u00e0 l'\n\u00e9tape 2.\n, dans excluded_recipients sont list\u00e9s les\n    destinataires auxquels le message ne sera pas envoy\u00e9e pour des raisons de\n    d\u00e9sinscription (\nr\u00e9siliation\n) de leur part ou des raisons techniques (\nbounces\n).\n\n\n\n\nEnvoi \u00e0 quelques destinataires pilotes\n\n\n\u00c0 ce stade, vous pouvez envoyer votre message \u00e0 un ou plusieurs destinataires\n\u00ab\u202fpilotes\u202f\u00bb, par exemple vous-m\u00eame, des coll\u00e8gues, proches\u2026\n\n\nCette \u00e9tape peut vous servir, par exemple, \u00e0 valider l'affichage du message\nsur diff\u00e9rents webmails, terminaux mobiles\u2026\n\n\nLes mails g\u00e9n\u00e9r\u00e9s seront identiques \u00e0 ceux r\u00e9ellement envoy\u00e9s \u00e0 vos\ndestinataires, \u00e0 ces exceptions pr\u00e8s :\n\n\n\n\nle sujet sera pr\u00e9fix\u00e9 par \u00ab\u202f\nTEST\n\u202f\u00bb ;\n\n\nles liens de d\u00e9sinscription et d'abus pointeront vers des pages inactives ;\n\n\nvous ne pourrez pas suivre l'\u00e9tat de livraison de ces emails.\n\n\n\n\nLa requ\u00eate est la suivante :\n\n\nPOST /v1/messages/1/preview_send/\n{\n   \"to\": \"peter@example.com, steven@example.com\"\n}\n\n\n\n4. D\u00e9clenchement de l'envoi\n\n\nUne fois que tout semble bon, il n'y a plus qu'\u00e0 changer l'attribut \nstatus\n\ndu message \u00e0 \nsending\n, par exemple \u00e0 l'aide d'une requ\u00eate \nPATCH\n (en ne\npassant que l'attribut \nstatus\n):\n\n\nPATCH /v1/messages/1/\n{\n    \"status\"       :\"sending\"\n}\n\n\n\nSi tout va bien, l'API retourne un \n200 OK\n.\n\n\nLes mails commencent imm\u00e9diatement \u00e0 \u00eatre envoy\u00e9s aux destinataires, une\n\nnotification\n vous est envoy\u00e9e, une seconde sera\nenvoy\u00e9e \u00e0 la fin du processus.\n\n\n5. Suivi des envois\n\n\nSuivi des emails\n\n\nVous pouvez avoir tous les emails en cours d'acheminement et utilisant\nle lien \nmails\n du message. Par exemple :\n\n\nGET /v1/messages/4/mails/\n{\n    \"count\": 3,\n    \"next\": \"https://api.munchmail.net/v1/mails/?page=2\",\n    \"previous\": null,\n    \"results\": [\n    {\n        \"url\": \"https://api.munchmail.net/v1/messages/4/mails/1/\",\n        \"to\": \"jane@domain.tld\",\n        \"date\": \"2014-08-05T12:44:28.556Z\",\n        \"last_status\": {\n            \"status\": \"sent\",\n            \"date\": \"2014-08-05T12:59:11Z\",\n            \"raw_msg\": \"Accepted by local MTA\"\n        },\n        \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n\n    },\n    {\n        \"url\": \"https://api.munchmail.net/v1/messages/4/mails/2/\",\n        \"to\": john@domain.tld\",\n        \"date\": \"2014-07-25T08:52:34.261Z\",\n        \"last_status\": {\n            \"status\": \"delivered\",\n            \"date\": \"2014-07-25T12:07:49Z\",\n            \"raw_msg\": Delivered to remote server\"\n        },\n        \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n    },\n    {\n        \"url\": \"https://api.munchmail.net/v1/messages/4/mails/3/\",\n        \"to\": \"mon-destinataire@domaine.tld\",\n        \"date\": \"2014-07-30T08:40:56Z\",\n        \"last_status\": {\n            \"status\": \"hardbounced\",\n            \"date\": \"2014-07-30T08:41:44Z\",\n            \"raw_msg\": \"recipient mon-destinataire@domain.tld do not exist\"\n        },\n        \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n    }\n    ]\n}\n\n\n\nLes diff\u00e9rents \nstatus\n possibles sont\n\nd\u00e9crits en annexe\n.\n\n\nSuivi des r\u00e9siliations\n\n\nUne \nnotification\n est envoy\u00e9e \u00e0 chaque r\u00e9siliation.\n\n\nPar ailleurs, il est possible de consulter les r\u00e9siliations via l'API ; si votre\nidentifiant de client est le 42 :\n\n\nGET /v1/customers/42/opt_outs/\n\n{\n    \"count\": 2,\n    \"next\": null,\n    \"previous\": null,\n    \"results\": [\n        {\n            \"address\": \"jane-blacklist@example.com\",\n            \"date\": \"2014-08-08T14:54:35Z\",\n            \"origin\": \"mail\",\n            \"category\": null\n        },\n        {\n            \"address\": \"john-greylist@example.com\",\n            \"date\": \"2014-08-08T14:55:16Z\",\n            \"origin\": \"feedback-loop\",\n            \"category\": null\n        },\n    ]\n}\n\n\n\nLe champ \norigin\n contient la raison de la d\u00e9sinscription, qui peut-\u00eatre\nautomatique ou bien volontaire de la part de l'utilisateur ; les valeurs\npossibles sont d\u00e9crites\n\nen annexe\n.\n\n\nSi vous recevez de nombreuses d\u00e9sinscriptions de type \nabuse\n, il faut vous\nposer des question sur la l\u00e9gitimit\u00e9 de votre liste de\ncontacts. \nN'utilisez pas de liste de mails achet\u00e9es\n\u2026 et respectez la\nl\u00e9gislation en vigueur.", 
            "title": "Tutoriel : un envoi de A \u00e0 Z"
        }, 
        {
            "location": "/api/tutoriel/#tutoriel-un-envoi-de-a-a-z", 
            "text": "Les \u00e9tapes de la vie d'un message sont :   Cr\u00e9ation/\u00e9dition d'un message avec ses attributs  Ajout/modification d'une liste de destinataires  Pr\u00e9visualisation et envoi \u00e0 quelques destinataires \u00ab\u202fpilotes\u202f\u00bb  D\u00e9clenchement de l'envoi  Suivi des envois   Tant que le message n'est pas envoy\u00e9 (\u00e9tape 4.), il peut-\u00eatre modifi\u00e9.", 
            "title": "Tutoriel : Un envoi de A \u00e0 Z"
        }, 
        {
            "location": "/api/tutoriel/#1-creationedition-dun-message-avec-ses-attributs", 
            "text": "POST /v1/messages/\n{\n    \"name\"         :\"Newsletter de Juillet\",\n    \"sender_email\" :\"newsletter@example.com\",\n    \"sender_name\"  :\"Communication ACME chaussures\",\n    \"subject\": \"Tu peux faire tout ce que tu veux\",\n    \"html\": \" h1 Mais ne marche pas sur mes chaussures en su\u00e9dine bleue /h1 \"\n}   name  : Le nom interne donn\u00e9 au message, il ne sera pas visible de vos\n   destinataires.  sender_email  : le mail d'exp\u00e9diteur du message, le domaine de cette\n    adresse doit pr\u00e9alablement avoir \u00e9t\u00e9  configur\u00e9 correctement .  sender_name  : le nom de l'exp\u00e9diteur, qui appara\u00eetra dans le client mail de\n   vos destinataires.  subject  : Le sujet de votre email.  html  : Le corps en HTML de votre email.    Des  options de suivi  des messages sont \u00e9galement disponibles.   Le message fourni dans le param\u00e8tre  html  fera l'objet de plusieurs\ntraitements :   Un \u00ab nettoyage \u00bb pour appara\u00eetre au mieux sur tous les clients mail (voir\n   liste des traitements appliqu\u00e9s )  La g\u00e9n\u00e9ration d'une version \u00ab texte brut \u00bb \u00e0 partir de ce dernier, fourni en\n  tant qu'alternative (il est n\u00e9cessaire de fournir une version texte brut\n  dans les emails).  Un test anti-spam, pour v\u00e9rifier qu'il ne risque pas d'\u00eatre consid\u00e9r\u00e9 comme\n  spam.    \u24d8 Facultativement, un message peut-\u00eatre rattach\u00e9 \u00e0 une cat\u00e9gorie, ce\npoint est trait\u00e9 dans la  section d\u00e9di\u00e9e de la documentation .   Si tout se passe bien, l'API devrait vous retourner :  HTTP 201 CREATED\n{\n    \"url\": \"https://api.munchmail.net/v1/messages/4/\",\n    \"name\": \"ACME \u2212 Newsletter Juillet\",\n    \"sender_email\": \"newsletter@example.com\",\n    \"sender_name\": \"Communication ACME chaussures\",\n    \"subject\": \"Tu peux faire tout ce que tu veux\",\n    \"html\": \" h1 Mais ne marche pas sur mes chaussures en su\u00e9dine bleue /h1 \"\n    \"status\": \"message_ok\",\n    \"category\": null,\n    \"mail_count\": 0,\n    \"creation_date\": \"2015-01-12T15:37:29.803Z\",\n    \"send_date\": null,\n    \"completion_date\": null,\n    \"external_optout\": false,\n    \"detach_images\": false,\n    \"spam_score\": 0.0,\n    \"is_spam\": false,\n    \"msg_issue\": \"\",\n    \"_links\": {\n        \"preview_send\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/preview_send/\"\n        },\n        \"preview\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/preview/\"\n        },\n        \"preview/.html\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/preview/.html/\"\n        },\n        \"preview/.txt\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/preview/.txt/\"\n        },\n        \"mails\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/mails/\"\n        },\n        \"spam_details\": {\n            \"href\": \"https://api.munchmail.net/v1/messages/4/spam_details/\"\n        }\n    }\n}  Notons quelques champs :   url  est \u00e0 conserver, elle vous permet d'acc\u00e9der \u00e0 votre message pour la\n   visualiser ou la modifier.  status  nous donne l'\u00e9tat courant du message  mails  est un lien vers la liste des destinataires et leur \u00e9tat courant (voir\n    \u00e9tape 2 )  mail_count  un compteur du nombre de destinataires  preview  Permet de voir un r\u00e9sum\u00e9 du message ; utile notamment avant de\n    valider le message  is_spam  devrait vous alerter si il est \u00e0  true  (viser le z\u00e9ro de\n     spam_score  peut-\u00eatre un bon objectif), le syst\u00e8me  refusera quoi qu'il\n    en soit d'envoyer  un message consid\u00e9r\u00e9 comme spam ;  spam_details  permet d'acc\u00e9der au bar\u00e8me d\u00e9taill\u00e9 du  spam_score , afin de\n    pouvoir apporter les modifications n\u00e9cessaires au contenu de  html .  preview ,  html_preview  et  plaintext_preview  permettent d'avoir une\n    id\u00e9e du code et du rendu du mail une fois \u00ab\u202fnettoy\u00e9\u202f\u00bb par MunchMail (voir  Pr\u00e9visualisation )  preview_send  Permet d'envoyer le message \u00e0 quelques destinataires de test\n    (voir  plus bas )   En cas d'erreur, vous recevrez une erreur 400 d\u00e9taillant le ou les probl\u00e8mes,\nqui peuvent notamment concerner les enregistrements DKIM  et  SPF  HTTP 400 BAD REQUEST\n{\n    \"sender_email\": [\n        \"Le champ SPF pour example.com est mal configur\\u00e9\",\n        \"Pas de configuration DKIM pour le domaine example.com\"\n    ]\n}  En cas d'erreur de validation,  le message n'est pas cr\u00e9\u00e9 .  Pour  modifier  le message , il faut effectuer une requ\u00eate de type  PUT  \u00e0\nl'adresse retourn\u00e9e dans l'attribut  url  en envoyant la totalit\u00e9 du contenu\nde l'objet, modifi\u00e9 comme souhait\u00e9.  \u00c0 propos de la r\u00e9daction du corps HTML  Si la m\u00e9thode qui donne les meilleurs r\u00e9sultats est de r\u00e9diger ce document HTML\n\u00e0 la main, il peut \u00e9galement \u00eatre produit avec un \u00e9diteur WYSIWYG, un traitement\nde texte\u2026 etc.  Pour des conseils sur la r\u00e9daction de mails en HTML, vous pouvez vous r\u00e9f\u00e9rer \u00e0 ce guide  ou encore ce d\u00e9p\u00f4t d'exemples .", 
            "title": "1. Cr\u00e9ation/\u00e9dition d'un message avec ses attributs"
        }, 
        {
            "location": "/api/tutoriel/#2-ajoutmodification-dune-liste-de-destinataires", 
            "text": "Il est possible d'ajouter des destinataires soit un par un, soit en lots :  (on utilise l'URL point\u00e9e par l'attribut  _links.message  de notre objet, voir\n\u00e9tape pr\u00e9c\u00e9dente).  Ajout des destinataires un par un  Il suffit de faire autant de requ\u00eates POST que de destinataires \u00e0 ajouter.  POST /v1/mails/\n{\n    \"to\" : \"mon-destinataire@domaine.tld\",\n    \"message\": \"https://api.munchmail.net/v1/messages/4/\"\n}  Les codes de retours HTTP sont :   201 (created)  si tout se passe bien  400 (bad request)  si l'email est invalide (adresse mal form\u00e9e ou domaine\nnon habilit\u00e9 \u00e0 recevoir du courriel)   Par exemple\u2026   POST /v1/mails/\n {\n    \"to\" : \"jenesuispasunemail\",\n    \"message\": \"https://api.munchmail.net/v1/messages/4/\"\n }  \u2026 retournera  400 BAD REQUEST\n{\n    \"to\": [\n       \"Saisissez une adresse de courriel valide.\"\n    ]\n}  Ajout des destinataires par lot  POST /v1/mails/\n[\n    {\"to\" : \"john@domaine.tld\",    \"message\": \"https://api.munchmail.net/v1/messages/4/\"},\n    {\"to\" : \"jane@domaine.tld\",    \"message\": \"https://api.munchmail.net/v1/messages/4/\"},\n    {\"to\" : \"jack@inexistant.tld\", \"message\": \"https://api.munchmail.net/v1/messages/4/\"},\n]  Lorsque vous ajoutez les destinataires par lot, l'API accepte qu'une partie des\nadresses soit invalide, les autres seront quand-m\u00eame ins\u00e9r\u00e9es, un  201  sera\ndonc toujours renvoy\u00e9, sauf dans les cas d'erreur globale ou une code  400 \nest retourn\u00e9  (ex: la requ\u00eate ne contient pas de JSON valide).  Le format de retour de la requ\u00eate d'ajout multiple de destinataires est le\nsuivant :  201 CREATED\n{\n    \"success_count\": 2,\n    \"failed\": {\n        \"jack@inexstant.tld\": {\n            \"to\": [\"Le domaine inexistant.tld  ne semble pas \u00eatre configur\u00e9 pour la r\u00e9ception des emails.\"]\n        }\n}   \u24d8 l'API   refusera les ajouts de plus de 10 000 destinataires   en une\n seule requ\u00eate (HTTP 400).  En outre, s\u00e9parer en lots de moins de 10 000 destinataires permet \u00e0 votre\n application de suivre la progression de l'ajout des destinataires \u00e9tape par\n \u00e9tape.", 
            "title": "2. Ajout/modification d'une liste de destinataires"
        }, 
        {
            "location": "/api/tutoriel/#3-previsualisation-et-envoi-a-quelques-destinataires-pilotes", 
            "text": "Pr\u00e9visualisation  Une vue de validation est offerte sur les  messages  ; comme toutes les actions\nli\u00e9es aux ressources, son URL est propos\u00e9e dans l'attribut  _links  ; celle-ci\nl'est sous le nom  preview_send .  On appelle la pr\u00e9visualisation :  GET /v1/messages/4/preview/  \u2026 elle retourne :  HTTP 200 OK\n{\n     recipients : [\n         mon-destinataire@domaine.tld ,\n         john@domaine.tld ,\n         fox@autre-domaine.tld \n    ],\n     excluded_recipients : [\n         jane@domaine.tld ,\n    ],\n     spam_score : 0.0,\n     is_spam : false,\n     html_message :  div body h1 Mais ne marche pas sur mes chaussures en su\\u00e9dine bleue /h1 p style=\\ font-size: small\\ a href=\\ UNSUBSCRIBE_URL\\ Se d\\u00e9sinscrire /a  pour ne plus recevoir ces emails /p /body /div ,\n     plaintext_message :  # Mais ne marche pas sur mes chaussures en su\\u00e9dine bleue\\n\\n[Se d\\u00e9sinscrire][1] pour ne plus recevoir ces emails\\n\\n   [1]: UNSUBSCRIBE_URL\\n\\n \n}   recipients  et  excluded_recipients  se partagent les destinataires que\n    vous avez d\u00e9finis \u00e0 l' \u00e9tape 2. , dans excluded_recipients sont list\u00e9s les\n    destinataires auxquels le message ne sera pas envoy\u00e9e pour des raisons de\n    d\u00e9sinscription ( r\u00e9siliation ) de leur part ou des raisons techniques ( bounces ).   Envoi \u00e0 quelques destinataires pilotes  \u00c0 ce stade, vous pouvez envoyer votre message \u00e0 un ou plusieurs destinataires\n\u00ab\u202fpilotes\u202f\u00bb, par exemple vous-m\u00eame, des coll\u00e8gues, proches\u2026  Cette \u00e9tape peut vous servir, par exemple, \u00e0 valider l'affichage du message\nsur diff\u00e9rents webmails, terminaux mobiles\u2026  Les mails g\u00e9n\u00e9r\u00e9s seront identiques \u00e0 ceux r\u00e9ellement envoy\u00e9s \u00e0 vos\ndestinataires, \u00e0 ces exceptions pr\u00e8s :   le sujet sera pr\u00e9fix\u00e9 par \u00ab\u202f TEST \u202f\u00bb ;  les liens de d\u00e9sinscription et d'abus pointeront vers des pages inactives ;  vous ne pourrez pas suivre l'\u00e9tat de livraison de ces emails.   La requ\u00eate est la suivante :  POST /v1/messages/1/preview_send/\n{\n   \"to\": \"peter@example.com, steven@example.com\"\n}", 
            "title": "3. Pr\u00e9visualisation et envoi \u00e0 quelques destinataires \u00ab\u202fpilotes\u202f\u00bb"
        }, 
        {
            "location": "/api/tutoriel/#4-declenchement-de-lenvoi", 
            "text": "Une fois que tout semble bon, il n'y a plus qu'\u00e0 changer l'attribut  status \ndu message \u00e0  sending , par exemple \u00e0 l'aide d'une requ\u00eate  PATCH  (en ne\npassant que l'attribut  status ):  PATCH /v1/messages/1/\n{\n    \"status\"       :\"sending\"\n}  Si tout va bien, l'API retourne un  200 OK .  Les mails commencent imm\u00e9diatement \u00e0 \u00eatre envoy\u00e9s aux destinataires, une notification  vous est envoy\u00e9e, une seconde sera\nenvoy\u00e9e \u00e0 la fin du processus.", 
            "title": "4. D\u00e9clenchement de l'envoi"
        }, 
        {
            "location": "/api/tutoriel/#5-suivi-des-envois", 
            "text": "Suivi des emails  Vous pouvez avoir tous les emails en cours d'acheminement et utilisant\nle lien  mails  du message. Par exemple :  GET /v1/messages/4/mails/\n{\n    \"count\": 3,\n    \"next\": \"https://api.munchmail.net/v1/mails/?page=2\",\n    \"previous\": null,\n    \"results\": [\n    {\n        \"url\": \"https://api.munchmail.net/v1/messages/4/mails/1/\",\n        \"to\": \"jane@domain.tld\",\n        \"date\": \"2014-08-05T12:44:28.556Z\",\n        \"last_status\": {\n            \"status\": \"sent\",\n            \"date\": \"2014-08-05T12:59:11Z\",\n            \"raw_msg\": \"Accepted by local MTA\"\n        },\n        \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n\n    },\n    {\n        \"url\": \"https://api.munchmail.net/v1/messages/4/mails/2/\",\n        \"to\": john@domain.tld\",\n        \"date\": \"2014-07-25T08:52:34.261Z\",\n        \"last_status\": {\n            \"status\": \"delivered\",\n            \"date\": \"2014-07-25T12:07:49Z\",\n            \"raw_msg\": Delivered to remote server\"\n        },\n        \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n    },\n    {\n        \"url\": \"https://api.munchmail.net/v1/messages/4/mails/3/\",\n        \"to\": \"mon-destinataire@domaine.tld\",\n        \"date\": \"2014-07-30T08:40:56Z\",\n        \"last_status\": {\n            \"status\": \"hardbounced\",\n            \"date\": \"2014-07-30T08:41:44Z\",\n            \"raw_msg\": \"recipient mon-destinataire@domain.tld do not exist\"\n        },\n        \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n    }\n    ]\n}  Les diff\u00e9rents  status  possibles sont d\u00e9crits en annexe .  Suivi des r\u00e9siliations  Une  notification  est envoy\u00e9e \u00e0 chaque r\u00e9siliation.  Par ailleurs, il est possible de consulter les r\u00e9siliations via l'API ; si votre\nidentifiant de client est le 42 :  GET /v1/customers/42/opt_outs/\n\n{\n    \"count\": 2,\n    \"next\": null,\n    \"previous\": null,\n    \"results\": [\n        {\n            \"address\": \"jane-blacklist@example.com\",\n            \"date\": \"2014-08-08T14:54:35Z\",\n            \"origin\": \"mail\",\n            \"category\": null\n        },\n        {\n            \"address\": \"john-greylist@example.com\",\n            \"date\": \"2014-08-08T14:55:16Z\",\n            \"origin\": \"feedback-loop\",\n            \"category\": null\n        },\n    ]\n}  Le champ  origin  contient la raison de la d\u00e9sinscription, qui peut-\u00eatre\nautomatique ou bien volontaire de la part de l'utilisateur ; les valeurs\npossibles sont d\u00e9crites en annexe .  Si vous recevez de nombreuses d\u00e9sinscriptions de type  abuse , il faut vous\nposer des question sur la l\u00e9gitimit\u00e9 de votre liste de\ncontacts.  N'utilisez pas de liste de mails achet\u00e9es \u2026 et respectez la\nl\u00e9gislation en vigueur.", 
            "title": "5. Suivi des envois"
        }, 
        {
            "location": "/api/categories/", 
            "text": "Cat\u00e9gories\n\n\nLes \ncat\u00e9gories\n sont une notion facultative, qui permet de grouper\nde fa\u00e7on logique plusieurs \nmessages\n, la ressource d'API associ\u00e9e est\n\ncategory\n.\n\n\nDes cas d'utilisation sont :\n\n\n\n\nLes diff\u00e9rents num\u00e9ros d'une Newsletter\n\n\nLes communications commerciales envoy\u00e9es \u00e0 une certaine base de clients\n\n\n...\n\n\n\n\nSi vous utilisez la notion de \ncategory\n, les\nd\u00e9sinscriptions ne sont honor\u00e9es qu'au sein d'une m\u00eame cat\u00e9gorie. Un m\u00eame\ndestinataire peut donc s'\u00eatre d\u00e9sinscrit d'une cat\u00e9gorie mais continuer \u00e0\nrecevoir les communications d'une autre cat\u00e9gorie.\n\n\nCr\u00e9ation d'une cat\u00e9gorie\n\n\nPOST /v1/categories/\n{\n    \"name\": Newsletter clients ACME\"\n}\n\n\n\nRetourne\n\n\nHTTP 201 CREATED\n{\n    \"url\": \"https://api.munchmail.net/v1/categories/2/\",\n    \"name\": \"Newsletter clients ACME\"\n    \"messages\": [],\n    \"_links\": {\n        \"opt_outs\": {\n            \"href\": \"http://localhost:8000/v1/categories/2/opt_outs/\"\n        }\n    }\n}\n\n\n\nNotez le lien \nopt_outs\n permettant de lire la liste des \nopt_outs\n associ\u00e9s \u00e0\nune cat\u00e9gorie.\n\n\nAttacher des messages \u00e0 une cat\u00e9gorie\n\n\nCela se passe via l'attribut \ncategory\n de la ressource \nmessage\n. Par exemple\nsi vous voulez attacher la cat\u00e9gorie pr\u00e9c\u00e9demment cr\u00e9\u00e9e au message\n\nhttps://api.munchmail.net/v1/messages/4/\n, faites simplement :\n\n\nPATCH /v1/messages/4/\n{\n    \"category\": \"https://api.munchmail.net/v1/categories/2/\"\n}\n\n\n\nVous pouvez bien \u00e9videmment d\u00e9finir cet attribut d\u00e8s\n\nla cr\u00e9ation du message\n.\n\n\nPlacer l'attribut \u00e0 \nnull\n pour retirer l'association \u00e0 la cat\u00e9gorie.", 
            "title": "Cat\u00e9gories"
        }, 
        {
            "location": "/api/categories/#categories", 
            "text": "Les  cat\u00e9gories  sont une notion facultative, qui permet de grouper\nde fa\u00e7on logique plusieurs  messages , la ressource d'API associ\u00e9e est category .  Des cas d'utilisation sont :   Les diff\u00e9rents num\u00e9ros d'une Newsletter  Les communications commerciales envoy\u00e9es \u00e0 une certaine base de clients  ...   Si vous utilisez la notion de  category , les\nd\u00e9sinscriptions ne sont honor\u00e9es qu'au sein d'une m\u00eame cat\u00e9gorie. Un m\u00eame\ndestinataire peut donc s'\u00eatre d\u00e9sinscrit d'une cat\u00e9gorie mais continuer \u00e0\nrecevoir les communications d'une autre cat\u00e9gorie.", 
            "title": "Cat\u00e9gories"
        }, 
        {
            "location": "/api/categories/#creation-dune-categorie", 
            "text": "POST /v1/categories/\n{\n    \"name\": Newsletter clients ACME\"\n}  Retourne  HTTP 201 CREATED\n{\n    \"url\": \"https://api.munchmail.net/v1/categories/2/\",\n    \"name\": \"Newsletter clients ACME\"\n    \"messages\": [],\n    \"_links\": {\n        \"opt_outs\": {\n            \"href\": \"http://localhost:8000/v1/categories/2/opt_outs/\"\n        }\n    }\n}  Notez le lien  opt_outs  permettant de lire la liste des  opt_outs  associ\u00e9s \u00e0\nune cat\u00e9gorie.", 
            "title": "Cr\u00e9ation d'une cat\u00e9gorie"
        }, 
        {
            "location": "/api/categories/#attacher-des-messages-a-une-categorie", 
            "text": "Cela se passe via l'attribut  category  de la ressource  message . Par exemple\nsi vous voulez attacher la cat\u00e9gorie pr\u00e9c\u00e9demment cr\u00e9\u00e9e au message https://api.munchmail.net/v1/messages/4/ , faites simplement :  PATCH /v1/messages/4/\n{\n    \"category\": \"https://api.munchmail.net/v1/categories/2/\"\n}  Vous pouvez bien \u00e9videmment d\u00e9finir cet attribut d\u00e8s la cr\u00e9ation du message .  Placer l'attribut \u00e0  null  pour retirer l'association \u00e0 la cat\u00e9gorie.", 
            "title": "Attacher des messages \u00e0 une cat\u00e9gorie"
        }, 
        {
            "location": "/api/domaines/", 
            "text": "Configuration des domaines d'envoi\n\n\nSi vous envoyez avec l'email \nnewsletter@example.com\n, les \u00e9tapes suivantes sont\nn\u00e9cessaires.\n\n\n\n\nEnregistrer le domaine \nexample.com\n dans munchmail\n\n\nCr\u00e9er ou modifier les bons enregistrement DNS pour \nDKIM\n et \nSPF\n (cf \nnotre guide\n)\n\n\nV\u00e9rifier le tout\n\n\n\n\n\n\n\u26a0 Il est n\u00e9cessaire d'\u00eatre \nauthentifi\u00e9\n pour manipuler les domaines\n.\n\n\n\n\nEnregistrer un nouveau domaine :\n\n\nPOST /v1/domains/\n{\n    \"name\": \"example.com\"\n}\n\n\n\nL'objet retourn\u00e9 est du style:\n\n\nHTTP 201 CREATED\n{\n    \"url\": \"https://api.munchmail.net/v1/domains/1/\",\n    \"name\": \"example.com\",\n    \"spf_status\": \"bad\",\n    \"dkim_status\": \"ko\",\n    \"mx_status\": \"ok\",\n    \"_links\": {\n        \"revalidate\": {\n            \"href\": \"https://api.munchmail.net/v1/domains/1/revalidate/\"\n        }\n    }\n}\n\n\n\nLes 3 v\u00e9rifications automatiques sont \nspf_status\n, \ndkim_status\n et\n\nmx_status\n. Elles peuvent prendre 3 \u00e9tats :\n\n\n\n\nok\n La configuration DNS est correcte sur ce point\n\n\nko\n L'enregistrement DNS ne peut pas \u00eatre trouv\u00e9\n\n\nbad\n L'enregistrement DNS existe mais est incorrect\n\n\n\n\nUne fois que vous avez modifi\u00e9 vos param\u00e8tres DNS en suivant\n\nla documentation SPF\n, vous pouvez relancer une\nv\u00e9rification :\n\n\nPOST /v1/domains/revalidate/\n\n\n\nQui devrait, si tout va bien, mettre \u00e0 jour le statut de votre domaine et vous\nretourner :\n\n\nHTTP 200 OK\n{\n    \"dkim_status\": \"ok\",\n    \"spf_status\": \"ok\",\n    \"mx_status\": \"ok\"\n}", 
            "title": "Domaines"
        }, 
        {
            "location": "/api/domaines/#configuration-des-domaines-denvoi", 
            "text": "Si vous envoyez avec l'email  newsletter@example.com , les \u00e9tapes suivantes sont\nn\u00e9cessaires.   Enregistrer le domaine  example.com  dans munchmail  Cr\u00e9er ou modifier les bons enregistrement DNS pour  DKIM  et  SPF  (cf  notre guide )  V\u00e9rifier le tout    \u26a0 Il est n\u00e9cessaire d'\u00eatre  authentifi\u00e9  pour manipuler les domaines .   Enregistrer un nouveau domaine :  POST /v1/domains/\n{\n    \"name\": \"example.com\"\n}  L'objet retourn\u00e9 est du style:  HTTP 201 CREATED\n{\n    \"url\": \"https://api.munchmail.net/v1/domains/1/\",\n    \"name\": \"example.com\",\n    \"spf_status\": \"bad\",\n    \"dkim_status\": \"ko\",\n    \"mx_status\": \"ok\",\n    \"_links\": {\n        \"revalidate\": {\n            \"href\": \"https://api.munchmail.net/v1/domains/1/revalidate/\"\n        }\n    }\n}  Les 3 v\u00e9rifications automatiques sont  spf_status ,  dkim_status  et mx_status . Elles peuvent prendre 3 \u00e9tats :   ok  La configuration DNS est correcte sur ce point  ko  L'enregistrement DNS ne peut pas \u00eatre trouv\u00e9  bad  L'enregistrement DNS existe mais est incorrect   Une fois que vous avez modifi\u00e9 vos param\u00e8tres DNS en suivant la documentation SPF , vous pouvez relancer une\nv\u00e9rification :  POST /v1/domains/revalidate/  Qui devrait, si tout va bien, mettre \u00e0 jour le statut de votre domaine et vous\nretourner :  HTTP 200 OK\n{\n    \"dkim_status\": \"ok\",\n    \"spf_status\": \"ok\",\n    \"mx_status\": \"ok\"\n}", 
            "title": "Configuration des domaines d'envoi"
        }, 
        {
            "location": "/api/tracking/", 
            "text": "Suivi des actions c\u00f4t\u00e9 destinataire\n\n\nMunch offre la possibilit\u00e9, dans une certaine mesuer,  de suivre les messages\nenvoy\u00e9s jusque dans la bo\u00eete de r\u00e9ception\u202f:\n\n\n\n\ndestinataires ayant cliqu\u00e9 sur les liens de l'email\n\n\ndestinataires ayant ouvert le mail\n\n\n\n\n\n\n\u26a0 La v\u00e9rification \u00e0 l'ouverture du mail n'est pas \u00e0 consid\u00e9rer comme un accus\u00e9\n de r\u00e9ception, car elle n\u00e9cessite que l'utilisateur autorise les images externes\n dans son client mail.\n\n\nCela reste un bon indicateur pour comparer l'int\u00e9r\u00eat  port\u00e9 \u00e0 deux envois.\n\n\n\n\nConfiguration\n\n\nLe suivi peut-\u00eatre activ\u00e9 ou non pour chaque \nmessage\n, grace aux deux\nparam\u00e8tres de la ressource (par d\u00e9faut d\u00e9sactiv\u00e9s) :\n\n\n\n\ntrack_open\n   : surveille les ouvertures\n\n\ntrack_clicks\n : surveille les clics\n\n\n\n\nPar exemple, pour cr\u00e9er un message incluant les deux formes de suivi :\n\n\nPOST /v1/messages/\n{\n    \"name\"         :\"Newsletter de Juillet\",\n    \"sender_email\" :\"newsletter@example.com\",\n    \"sender_name\"  :\"Communication ACME chaussures\",\n    \"subject\": \"Tu peux faire tout ce que tu veux\",\n    \"html\": \"\nh1\nMais ne marche pas sur mes chaussures en su\u00e9dine bleue\n/h1\n\",\n    \"track_open\"   : true,\n    \"track_clicks\" : true,\n}\n\n\n\nConsultation\n\n\nStatistiques par message\n\n\nL'usage le plus int\u00e9ressant de ce suivi est certainement \nles\nstatistiques\n. Munchmail vous permet donc de consulter, pour chaque\n\nmessage\n :\n\n\n\n\nnombre d'ouverture d\u00e9tect\u00e9es\n\n\nnombre de clics, global et par url\n\n\n\n\nVoir la \nsection statistiques\n.\n\n\nD\u00e9tail par destinataire\n\n\nIl est ensuite possible de voir le d\u00e9tail des clics et ouvertures pour chaque\n\nmail\n envoy\u00e9.\n\n\nGET /v1/messages/1/mails\n[\n    {\n        \"url\": \"https://api.munchmail.net/v1/mails/1/\",\n        \"to\": \"testrcpt@example.com\",\n        \"date\": \"2014-07-25T08:52:34.261335Z\",\n        \"last_status\": {\n            \"status\": \"delivered\",\n            \"date\": \"2014-07-25T12:07:49Z\",\n            \"raw_msg\": \"k.xau\"\n        },\n        \"message\": \"https://api.munchmail.net/v1/messages/1/\",\n        \"tracking\": {\n            \"opened\": \"2015-02-24T09:18:54.597617Z\",\n            \"clicked\": [\n                {\n                    \"url\": \"http://oasiswork.fr\",\n                    \"date\": \"2015-02-24T13:52:26Z\"\n                },\n                {\n                    \"url\": \"http://doc.munchmail.net\",\n                    \"date\": \"2015-02-24T13:58:38Z\"\n                }\n            ]\n        }\n    },\n    {\n        \"url\": \"https://api.munchmail.net/v1/mails/2/\",\n        \"to\": \"john-greylist@example.com\",\n        \"date\": \"2014-07-30T08:40:56Z\",\n        \"last_status\": {\n            \"status\": \"softbounced\",\n            \"date\": \"2014-07-30T08:41:44Z\",\n            \"raw_msg\": \"greylisted !\"\n        },\n        \"message\": \"https://api.munchmail.net/v1/messages/1/\",\n        \"tracking\": {\n            \"opened\": null,\n            \"clicked\": []\n        }\n    }\n]", 
            "title": "Suivi des actions c\u00f4t\u00e9 destinataire"
        }, 
        {
            "location": "/api/tracking/#suivi-des-actions-cote-destinataire", 
            "text": "Munch offre la possibilit\u00e9, dans une certaine mesuer,  de suivre les messages\nenvoy\u00e9s jusque dans la bo\u00eete de r\u00e9ception\u202f:   destinataires ayant cliqu\u00e9 sur les liens de l'email  destinataires ayant ouvert le mail    \u26a0 La v\u00e9rification \u00e0 l'ouverture du mail n'est pas \u00e0 consid\u00e9rer comme un accus\u00e9\n de r\u00e9ception, car elle n\u00e9cessite que l'utilisateur autorise les images externes\n dans son client mail.  Cela reste un bon indicateur pour comparer l'int\u00e9r\u00eat  port\u00e9 \u00e0 deux envois.", 
            "title": "Suivi des actions c\u00f4t\u00e9 destinataire"
        }, 
        {
            "location": "/api/tracking/#configuration", 
            "text": "Le suivi peut-\u00eatre activ\u00e9 ou non pour chaque  message , grace aux deux\nparam\u00e8tres de la ressource (par d\u00e9faut d\u00e9sactiv\u00e9s) :   track_open    : surveille les ouvertures  track_clicks  : surveille les clics   Par exemple, pour cr\u00e9er un message incluant les deux formes de suivi :  POST /v1/messages/\n{\n    \"name\"         :\"Newsletter de Juillet\",\n    \"sender_email\" :\"newsletter@example.com\",\n    \"sender_name\"  :\"Communication ACME chaussures\",\n    \"subject\": \"Tu peux faire tout ce que tu veux\",\n    \"html\": \" h1 Mais ne marche pas sur mes chaussures en su\u00e9dine bleue /h1 \",\n    \"track_open\"   : true,\n    \"track_clicks\" : true,\n}", 
            "title": "Configuration"
        }, 
        {
            "location": "/api/tracking/#consultation", 
            "text": "Statistiques par message  L'usage le plus int\u00e9ressant de ce suivi est certainement  les\nstatistiques . Munchmail vous permet donc de consulter, pour chaque message  :   nombre d'ouverture d\u00e9tect\u00e9es  nombre de clics, global et par url   Voir la  section statistiques .  D\u00e9tail par destinataire  Il est ensuite possible de voir le d\u00e9tail des clics et ouvertures pour chaque mail  envoy\u00e9.  GET /v1/messages/1/mails\n[\n    {\n        \"url\": \"https://api.munchmail.net/v1/mails/1/\",\n        \"to\": \"testrcpt@example.com\",\n        \"date\": \"2014-07-25T08:52:34.261335Z\",\n        \"last_status\": {\n            \"status\": \"delivered\",\n            \"date\": \"2014-07-25T12:07:49Z\",\n            \"raw_msg\": \"k.xau\"\n        },\n        \"message\": \"https://api.munchmail.net/v1/messages/1/\",\n        \"tracking\": {\n            \"opened\": \"2015-02-24T09:18:54.597617Z\",\n            \"clicked\": [\n                {\n                    \"url\": \"http://oasiswork.fr\",\n                    \"date\": \"2015-02-24T13:52:26Z\"\n                },\n                {\n                    \"url\": \"http://doc.munchmail.net\",\n                    \"date\": \"2015-02-24T13:58:38Z\"\n                }\n            ]\n        }\n    },\n    {\n        \"url\": \"https://api.munchmail.net/v1/mails/2/\",\n        \"to\": \"john-greylist@example.com\",\n        \"date\": \"2014-07-30T08:40:56Z\",\n        \"last_status\": {\n            \"status\": \"softbounced\",\n            \"date\": \"2014-07-30T08:41:44Z\",\n            \"raw_msg\": \"greylisted !\"\n        },\n        \"message\": \"https://api.munchmail.net/v1/messages/1/\",\n        \"tracking\": {\n            \"opened\": null,\n            \"clicked\": []\n        }\n    }\n]", 
            "title": "Consultation"
        }, 
        {
            "location": "/api/mailmerge/", 
            "text": "Publipostage\n\n\nLe publipostage consiste \u00e0 personnaliser chaque email avec des informations\nrelatives \u00e0 l'utilisateur (ex: pr\u00e9nom, \u00e2ge...).\n\n\nAjouter des informations\n\n\nIl est n\u00e9cessaire d'indiquer \u00e0 l'API les informations qu'on veut utiliser pour\nle publipostage, cela se passe au moment de\nl'\najout des destinataires\n,\nvia le champ \nproperties\n.\n:\n\n\nPOST /v1/mails/\n[\n    {\"to\" : \"john@domaine.tld\",     \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n     \"properties\" : {\"first_name\": \"John\", \"second_name\": \"Doe\" }},\n    {\"to\" : \"jane@domaine.tld\",     \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n    \"properties\" : {\"first_name\": \"Jane\", \"second_name\": \"Doe\" }},\n    {\"to\" : \"fox@autredomaine.tld\", \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n    \"properties\" : {\"first_name\": \"Fox\", \"second_name\": \"Durenard\" }},\n]\n\n\n\nLe contenu de \nproperties\n est un ensemble de \nclefs/valeurs\n enti\u00e8rement\nlibres.\n\n\nInclure ces informations\n\n\nIl est n\u00e9cessaire de mettre des balises sp\u00e9cifiques dans le code HTML que vous\nfournissez, par exemple, pour afficher l'attribut \nfirst_name\n d\u00e9fini dans\nl'exemple pr\u00e9c\u00e9dent, il faudra mettre dans l'attribut \nhtml\n du \nmessage\n, un\ncontenu comme :\n\n\nh1\nBonjour {{ first_name }} !\n/h1\n\n\n\n\nCe qui donnera, dans la boite mail de votre premier destinataire :\n\n\nh1\nBonjour John !\n/h1\n\n\n\n\n\n\n\u24d8 Pour des usages avanc\u00e9s, sachez que la syntaxe \u00e0 base d'accolades  est\ncelle du\n\nlangage de templates django\n,\net qu'il est possible d'en utiliser toutes les fonctionnalit\u00e9s, notamment\n\nles filtres\n.", 
            "title": "Publipostage"
        }, 
        {
            "location": "/api/mailmerge/#publipostage", 
            "text": "Le publipostage consiste \u00e0 personnaliser chaque email avec des informations\nrelatives \u00e0 l'utilisateur (ex: pr\u00e9nom, \u00e2ge...).", 
            "title": "Publipostage"
        }, 
        {
            "location": "/api/mailmerge/#ajouter-des-informations", 
            "text": "Il est n\u00e9cessaire d'indiquer \u00e0 l'API les informations qu'on veut utiliser pour\nle publipostage, cela se passe au moment de\nl' ajout des destinataires ,\nvia le champ  properties .\n:  POST /v1/mails/\n[\n    {\"to\" : \"john@domaine.tld\",     \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n     \"properties\" : {\"first_name\": \"John\", \"second_name\": \"Doe\" }},\n    {\"to\" : \"jane@domaine.tld\",     \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n    \"properties\" : {\"first_name\": \"Jane\", \"second_name\": \"Doe\" }},\n    {\"to\" : \"fox@autredomaine.tld\", \"message\": \"https://api.munchmail.net/v1/messages/4/\",\n    \"properties\" : {\"first_name\": \"Fox\", \"second_name\": \"Durenard\" }},\n]  Le contenu de  properties  est un ensemble de  clefs/valeurs  enti\u00e8rement\nlibres.", 
            "title": "Ajouter des informations"
        }, 
        {
            "location": "/api/mailmerge/#inclure-ces-informations", 
            "text": "Il est n\u00e9cessaire de mettre des balises sp\u00e9cifiques dans le code HTML que vous\nfournissez, par exemple, pour afficher l'attribut  first_name  d\u00e9fini dans\nl'exemple pr\u00e9c\u00e9dent, il faudra mettre dans l'attribut  html  du  message , un\ncontenu comme :  h1 Bonjour {{ first_name }} ! /h1   Ce qui donnera, dans la boite mail de votre premier destinataire :  h1 Bonjour John ! /h1    \u24d8 Pour des usages avanc\u00e9s, sachez que la syntaxe \u00e0 base d'accolades  est\ncelle du langage de templates django ,\net qu'il est possible d'en utiliser toutes les fonctionnalit\u00e9s, notamment les filtres .", 
            "title": "Inclure ces informations"
        }, 
        {
            "location": "/api/stats/", 
            "text": "Statistiques\n\n\nMunchmail\n expose des statistiques \u00e0 propos des envois, permettant de calculer :\n\n\n\n\nle nombre de rejet des messages\n\n\nle nombre d'ouverture des messages\n\n\nle nombre ou taux de clic sur chaque lien\n\n\nle nombre de d\u00e9sabonnements\n\n\n...\n\n\n\n\nElles sont mises \u00e0 jour en direct, au fur et \u00e0 mesure des \u00e9v\u00e8nements.\n\n\nLes nombres donn\u00e9s sont en nombre de mails, \u00e0 votre application de calculer les\npourcentages si vous le souhaitez.\n\n\nPar Message\n\n\nIl est possible d'obtenir des statistiques \u00e0 l'\u00e9chelle d'un Message.\n\n\nGET /v1/messages/1/stats/\n{\n    \"count\": {\n        \"had_delay\": 1,\n        \"done\": 2,\n        \"in_transit\": 1,\n        \"total\": 3\n    },\n   \"last_status\": {\n        \"delivered\": 1,\n        \"unknown\": 0,\n        \"hardbounced\": 1,\n        \"softbounced\": 1,\n        \"error\": 0,\n        \"sent\": 0\n    },\n    \"timing\": {\n        \"delivery_total\": 45,\n        \"delivery_median\": 42\n    },\n    \"tracking\": {\n        \"clicked\": {\n            \"http://oasiswork.fr\": 1,\n            \"http://doc.munchmail.net\": 1,\n            \"any\": 1\n        },\n        \"opened\": 1\n    },\n    \"optout\": {\n        \"web\": 0,\n        \"bounce\": 0,\n        \"feedback-loop\": 1,\n        \"abuse\": 0,\n        \"mail\": 0,\n        \"total\": 1\n    }\n}\n\n\n\n\n\ncount\n : nombre de mails en fonction de l'\u00e9tat d'avancement\n\n\ntotal\n : nombre de mails envoy\u00e9s\n\n\nhad_delay\n : subissent ou ont subi des d\u00e9lais (\nsoft-bounce\n)\n\n\nin_transit\n : toujours en cours d'acheminement\n\n\ndone\n : traitement termin\u00e9\n\n\n\n\n\n\nlast_status\n : Nombre de mail parvenus \u00e0 chaque statut. (d\u00e9tail des statuts\n    \nen annexe\n)\n\n\ntiming\n (en secondes) : dur\u00e9e d'envoi pour l'ensemble des mails, et dur\u00e9e\n    m\u00e9diane d'un envoi\n\n\ntracking\n : informations de suivi, les compteurs sont syst\u00e9matiquement \u00e0\n    z\u00e9ro si \nle suivi\n n'est pas activ\u00e9.\n\n\nclicked\n : nombre de correspondants ayant cliqu\u00e9 sur chaque lien, \nany\n\n  donne le nombre de destinataires ayant cliqu\u00e9 sur un lien quelconque.\n\n\nopened\n : nombre d'utilisateurs ayant ouvert le message et affich\u00e9 le\n  pixel cach\u00e9 (cf \nsuivi\n)\n\n\n\n\n\n\noptout\n : nombre de d\u00e9sinscriptions totales et par type (types\n               d\u00e9taill\u00e9s\n               \nen annexe\n)\n\n\n\n\nPar cat\u00e9gorie\n\n\nIl est \u00e9galement possible d'avoir des statistiques agr\u00e9g\u00e9es pour l'ensemble des\nmessages d'une \ncat\u00e9gorie\n, les infos sont similaires \u00e0 celles\nretourn\u00e9es pour le message mais moins nombreuses :\n\n\nGET /v1/categories/1/stats/\n{\n    \"count\": {\n        \"had_delay\": 1,\n        \"total\": 5,\n        \"done\": 2,\n        \"in_transit\": 3\n    },\n    \"timing\": {\n        \"delivery_median\": 39\n    },\n    \"last_status\": {\n        \"delivered\": 1,\n        \"unknown\": 2,\n        \"hardbounced\": 1,\n        \"softbounced\": 1,\n        \"error\": 0,\n        \"sent\": 0\n    },\n    \"optout\": {\n        \"web\": 0,\n        \"bounce\": 0,\n        \"feedback-loop\": 1,\n        \"abuse\": 0,\n        \"mail\": 1,\n        \"total\": 2\n    }\n}", 
            "title": "Statistiques"
        }, 
        {
            "location": "/api/stats/#statistiques", 
            "text": "Munchmail  expose des statistiques \u00e0 propos des envois, permettant de calculer :   le nombre de rejet des messages  le nombre d'ouverture des messages  le nombre ou taux de clic sur chaque lien  le nombre de d\u00e9sabonnements  ...   Elles sont mises \u00e0 jour en direct, au fur et \u00e0 mesure des \u00e9v\u00e8nements.  Les nombres donn\u00e9s sont en nombre de mails, \u00e0 votre application de calculer les\npourcentages si vous le souhaitez.", 
            "title": "Statistiques"
        }, 
        {
            "location": "/api/stats/#par-message", 
            "text": "Il est possible d'obtenir des statistiques \u00e0 l'\u00e9chelle d'un Message.  GET /v1/messages/1/stats/\n{\n    \"count\": {\n        \"had_delay\": 1,\n        \"done\": 2,\n        \"in_transit\": 1,\n        \"total\": 3\n    },\n   \"last_status\": {\n        \"delivered\": 1,\n        \"unknown\": 0,\n        \"hardbounced\": 1,\n        \"softbounced\": 1,\n        \"error\": 0,\n        \"sent\": 0\n    },\n    \"timing\": {\n        \"delivery_total\": 45,\n        \"delivery_median\": 42\n    },\n    \"tracking\": {\n        \"clicked\": {\n            \"http://oasiswork.fr\": 1,\n            \"http://doc.munchmail.net\": 1,\n            \"any\": 1\n        },\n        \"opened\": 1\n    },\n    \"optout\": {\n        \"web\": 0,\n        \"bounce\": 0,\n        \"feedback-loop\": 1,\n        \"abuse\": 0,\n        \"mail\": 0,\n        \"total\": 1\n    }\n}   count  : nombre de mails en fonction de l'\u00e9tat d'avancement  total  : nombre de mails envoy\u00e9s  had_delay  : subissent ou ont subi des d\u00e9lais ( soft-bounce )  in_transit  : toujours en cours d'acheminement  done  : traitement termin\u00e9    last_status  : Nombre de mail parvenus \u00e0 chaque statut. (d\u00e9tail des statuts\n     en annexe )  timing  (en secondes) : dur\u00e9e d'envoi pour l'ensemble des mails, et dur\u00e9e\n    m\u00e9diane d'un envoi  tracking  : informations de suivi, les compteurs sont syst\u00e9matiquement \u00e0\n    z\u00e9ro si  le suivi  n'est pas activ\u00e9.  clicked  : nombre de correspondants ayant cliqu\u00e9 sur chaque lien,  any \n  donne le nombre de destinataires ayant cliqu\u00e9 sur un lien quelconque.  opened  : nombre d'utilisateurs ayant ouvert le message et affich\u00e9 le\n  pixel cach\u00e9 (cf  suivi )    optout  : nombre de d\u00e9sinscriptions totales et par type (types\n               d\u00e9taill\u00e9s\n                en annexe )", 
            "title": "Par Message"
        }, 
        {
            "location": "/api/stats/#par-categorie", 
            "text": "Il est \u00e9galement possible d'avoir des statistiques agr\u00e9g\u00e9es pour l'ensemble des\nmessages d'une  cat\u00e9gorie , les infos sont similaires \u00e0 celles\nretourn\u00e9es pour le message mais moins nombreuses :  GET /v1/categories/1/stats/\n{\n    \"count\": {\n        \"had_delay\": 1,\n        \"total\": 5,\n        \"done\": 2,\n        \"in_transit\": 3\n    },\n    \"timing\": {\n        \"delivery_median\": 39\n    },\n    \"last_status\": {\n        \"delivered\": 1,\n        \"unknown\": 2,\n        \"hardbounced\": 1,\n        \"softbounced\": 1,\n        \"error\": 0,\n        \"sent\": 0\n    },\n    \"optout\": {\n        \"web\": 0,\n        \"bounce\": 0,\n        \"feedback-loop\": 1,\n        \"abuse\": 0,\n        \"mail\": 1,\n        \"total\": 2\n    }\n}", 
            "title": "Par cat\u00e9gorie"
        }, 
        {
            "location": "/api/export/", 
            "text": "Export et formats\n\n\nPar d\u00e9faut, l'API sert le contenu en JSON, il est \u00e9galement possible de le\nservir au format \nCSV\n.\n\n\nLes URLs restent les m\u00eames que pour les donn\u00e9es en JSON, deux m\u00e9thodes au choix\npour changer le format de sortie :\n\n\n\n\nPositionner l'en-t\u00eate \nAccept: text/csv\n \u00e0 la requ\u00eate\n\n\najouter un param\u00e8tre d'URL \n?format=csv\n \u00e0 l'URL d\u00e9sir\u00e9e\n\n\n\n\nPar exemple :\n\n\nGET https://api.munchmail.net/v1/messages/3/opt_outs/\n\naddress,category,date,origin\njane-blacklist@example.com,https://api.munchmail.net/v1/categories/1/,2014-08-08T12:54:35Z,mail\njohn-greylist@example.com,https://api.munchmail.net/v1/categories/1/,2014-08-08T12:55:16Z,feedback-loop\n\n\n\n\n\n\n\u26a0 Il n'y a pas de pagination pour l'export CSV, vous r\u00e9cup\u00e9rez \ntoutes\n les\ndonn\u00e9es en une requ\u00eate. \u00c0 utiliser avec...\n\n\n\n\nNotes de conversion\n\n\n\n\nLa premi\u00e8re ligne est une l\u00e9gende\n\n\nles dictionaires sont aplatis \n{\"details\": {\"eyes\":\"blue\", \"height\": \"tall\"}}\n devient\n\n\n\n\ndetails.eyes,details.height\nblue,tall\n\n\n\n\n\n\nles listes sont pr\u00e9sent\u00e9es telles quelles, \n{\"fruits\": [\"apple\", \"banana\"]}\n devient\n\n\n\n\nfruits\n\n[\napple\n, \nbanana\n]", 
            "title": "Exports & formats"
        }, 
        {
            "location": "/api/export/#export-et-formats", 
            "text": "Par d\u00e9faut, l'API sert le contenu en JSON, il est \u00e9galement possible de le\nservir au format  CSV .  Les URLs restent les m\u00eames que pour les donn\u00e9es en JSON, deux m\u00e9thodes au choix\npour changer le format de sortie :   Positionner l'en-t\u00eate  Accept: text/csv  \u00e0 la requ\u00eate  ajouter un param\u00e8tre d'URL  ?format=csv  \u00e0 l'URL d\u00e9sir\u00e9e   Par exemple :  GET https://api.munchmail.net/v1/messages/3/opt_outs/\n\naddress,category,date,origin\njane-blacklist@example.com,https://api.munchmail.net/v1/categories/1/,2014-08-08T12:54:35Z,mail\njohn-greylist@example.com,https://api.munchmail.net/v1/categories/1/,2014-08-08T12:55:16Z,feedback-loop   \u26a0 Il n'y a pas de pagination pour l'export CSV, vous r\u00e9cup\u00e9rez  toutes  les\ndonn\u00e9es en une requ\u00eate. \u00c0 utiliser avec...", 
            "title": "Export et formats"
        }, 
        {
            "location": "/api/export/#notes-de-conversion", 
            "text": "La premi\u00e8re ligne est une l\u00e9gende  les dictionaires sont aplatis  {\"details\": {\"eyes\":\"blue\", \"height\": \"tall\"}}  devient   details.eyes,details.height\nblue,tall   les listes sont pr\u00e9sent\u00e9es telles quelles,  {\"fruits\": [\"apple\", \"banana\"]}  devient   fruits [ apple ,  banana ]", 
            "title": "Notes de conversion"
        }, 
        {
            "location": "/api/users/", 
            "text": "Gestion des utilisateurs\n\n\nPar d\u00e9faut, vous avez un unique compte utilisateur avec les droits de\n\nmanager\n. Cela peut vous suffire dans certains cas, mais munch vous offre la\npossibilit\u00e9 de g\u00e9rer plusieurs utilisateurs et applications, avec des droits\ndiff\u00e9rents.\n\n\nUtilisateurs \n applications\n\n\nDeux types d'utilisateurs existent :\n\n\n\n\nutilisateur humain\n (s'authentifie traditionnellement\n  \nvia email / password\n)\n    : consulter le portail de statistiques, lancer des envois manuellement\n    depuis le portail ou zimbra, tester l'API depuis\n    l'\nAPI navigable\n.\n\n\napplication\n (s'authentifie\n    \nvia clef d'API\n) : lancer des envois\n    via l'API depuis votre intranet, CMS...\n\n\n\n\nGroupes\n\n\nCes utilisateurs peuvent appartenir \u00e0 un ou plusieurs groupes par mis :\n\n\n\n\nmanagers\n : Ont tout pouvoir (au sein d'un compte client donn\u00e9), notamment\n  celui de \ng\u00e9rer les comptes utilisateurs\n\n\nusers\n : Peuvent cr\u00e9er, envoyer, consulter, modifier des messages, mais ne\n  peuvent voir et/ou modifier ceux des autres utilisateurs.\n\n\n\n\nG\u00e9rer les comptes\n\n\nLister les utilisateurs.\n\n\nVous pouvez lister tous les utilisateurs humains :\n\n\nGET /v1/users/humans/\n{\n    \"count\": 2,\n    \"next\": null,\n    \"previous\": null,\n    \"page_count\": 1,\n    \"results\": [\n        {\n            \"url\": \"http://localhost:8000/v1/users/humans/1/\",\n            \"identifier\": \"admin@example.com\",\n            \"type\": \"human\",\n            \"groups\": [\"managers\"],\n            \"api_key\": \"key-N5sej2NEOlMcbldXE9GcjhTax1\",\n            \"_links\": {\n                \"regen_api_key\": {\n                    \"href\": \"http://localhost:8000/v1/users/1/regen_api_key/\"\n                }\n            }\n        },\n        {\n            \"url\": \"http://localhost:8000/v1/users/humans/2/\",\n            \"identifier\": \"john@example.com\",\n            \"type\": \"human\",\n            \"groups\": [\"users\"],\n            \"api_key\": \"key-RTANLQBoG3lQIdklblgH3W6HFi\",\n            \"_links\": {\n                \"regen_api_key\": {\n                    \"href\": \"http://localhost:8000/v1/users/5/regen_api_key/\"\n                }\n            }\n        }\n    ]\n}\n\n\n\n... ou les applications :\n\n\nGET /v1/users/apps/\n{\n    \"count\": 1,\n    \"next\": null,\n    \"previous\": null,\n    \"page_count\": 1,\n    \"results\": [\n        {\n            \"url\": \"http://localhost:8000/v1/users/apps/6/\",\n            \"identifier\": \"erp\",\n            \"type\": \"app\",\n            \"groups\": [\"users\"],\n            \"api_key\": \"key-8EgL2KEwrYOh3JP0mTAFSpY1yH\",\n            \"_links\": {\n                \"regen_api_key\": {\n                    \"href\": \"http://localhost:8000/v1/users/6/regen_api_key/\"\n                }\n            }\n        }\n   ]\n}\n\n\n\nL'URL \n/v1/users/\n vous permet de lister tous les utilisateurs quels que soient\nleurs types.\n\n\nAjouter un utilisateur humain\n\n\nPour le moment, l'ajout d'utilisateur humain doit passer par nous, merci de\n\nnous contacter\n.\n\n\nIl vous suffit de renseigner un email dans le champ \nidentifier\n et une liste\nde groupes :\n\n\nPOST /v1/users/humans/\n{\n    \"identifier\": \"foo@example.com\",\n    \"groups\": [\"users\"]\n}\n\n\n\ndevrait retourner\n\n\nHTTP 201 CREATED\n{\n    \"url\": \"http://localhost:8000/v1/users/humans/12/\",\n    \"identifier\": \"jane-doe@example.com\",\n    \"type\": \"human\",\n    \"groups\": [\"users\"]\n    \"api_key\": \"key-5mqt3p8LfxItl0UvmkZ1G3oYn6\",\n    \"_links\": {\n        \"regen_api_key\": {\n            \"href\": \"http://localhost:8000/v1/users/12/regen_api_key/\"\n        }\n    }\n}\n\n\n\nAjouter une application\n\n\nIl vous suffit de renseigner un identifiant que vous choisissez dans le champ \nidentifier\n:\n\n\nPOST /v1/users/apps/\n{\n    \"identifier\": \"foo@example.com\",\n    \"groups\": [\"users\"]\n}\n\n\n\nCe qui devrait vous retourner :\n\n\nHTTP 201 CREATED\n{\n    \"url\": \"http://localhost:8000/v1/users/apps/13/\",\n    \"identifier\": \"my-erp\",\n    \"type\": \"app\",\n    \"groups\": [\"users\"],\n    \"api_key\": \"key-XuZD7VSeq6ccy0s9548O0Rqqv6\",\n    \"_links\": {\n        \"regen_api_key\": {\n            \"href\": \"http://localhost:8000/v1/users/13/regen_api_key/\"\n        }\n    }\n}\n\n\n\n\n\n\u24d8 Vous pouvez bien entendu modifier ou supprimer des utilisateurs existants \u00e0\nl'aide de requ\u00eates \nDELETE\n ou \nPUT\n.", 
            "title": "Utilisateurs & permissions"
        }, 
        {
            "location": "/api/users/#gestion-des-utilisateurs", 
            "text": "Par d\u00e9faut, vous avez un unique compte utilisateur avec les droits de manager . Cela peut vous suffire dans certains cas, mais munch vous offre la\npossibilit\u00e9 de g\u00e9rer plusieurs utilisateurs et applications, avec des droits\ndiff\u00e9rents.", 
            "title": "Gestion des utilisateurs"
        }, 
        {
            "location": "/api/users/#utilisateurs-applications", 
            "text": "Deux types d'utilisateurs existent :   utilisateur humain  (s'authentifie traditionnellement\n   via email / password )\n    : consulter le portail de statistiques, lancer des envois manuellement\n    depuis le portail ou zimbra, tester l'API depuis\n    l' API navigable .  application  (s'authentifie\n     via clef d'API ) : lancer des envois\n    via l'API depuis votre intranet, CMS...", 
            "title": "Utilisateurs &amp; applications"
        }, 
        {
            "location": "/api/users/#groupes", 
            "text": "Ces utilisateurs peuvent appartenir \u00e0 un ou plusieurs groupes par mis :   managers  : Ont tout pouvoir (au sein d'un compte client donn\u00e9), notamment\n  celui de  g\u00e9rer les comptes utilisateurs  users  : Peuvent cr\u00e9er, envoyer, consulter, modifier des messages, mais ne\n  peuvent voir et/ou modifier ceux des autres utilisateurs.", 
            "title": "Groupes"
        }, 
        {
            "location": "/api/users/#gerer-les-comptes", 
            "text": "Lister les utilisateurs.  Vous pouvez lister tous les utilisateurs humains :  GET /v1/users/humans/\n{\n    \"count\": 2,\n    \"next\": null,\n    \"previous\": null,\n    \"page_count\": 1,\n    \"results\": [\n        {\n            \"url\": \"http://localhost:8000/v1/users/humans/1/\",\n            \"identifier\": \"admin@example.com\",\n            \"type\": \"human\",\n            \"groups\": [\"managers\"],\n            \"api_key\": \"key-N5sej2NEOlMcbldXE9GcjhTax1\",\n            \"_links\": {\n                \"regen_api_key\": {\n                    \"href\": \"http://localhost:8000/v1/users/1/regen_api_key/\"\n                }\n            }\n        },\n        {\n            \"url\": \"http://localhost:8000/v1/users/humans/2/\",\n            \"identifier\": \"john@example.com\",\n            \"type\": \"human\",\n            \"groups\": [\"users\"],\n            \"api_key\": \"key-RTANLQBoG3lQIdklblgH3W6HFi\",\n            \"_links\": {\n                \"regen_api_key\": {\n                    \"href\": \"http://localhost:8000/v1/users/5/regen_api_key/\"\n                }\n            }\n        }\n    ]\n}  ... ou les applications :  GET /v1/users/apps/\n{\n    \"count\": 1,\n    \"next\": null,\n    \"previous\": null,\n    \"page_count\": 1,\n    \"results\": [\n        {\n            \"url\": \"http://localhost:8000/v1/users/apps/6/\",\n            \"identifier\": \"erp\",\n            \"type\": \"app\",\n            \"groups\": [\"users\"],\n            \"api_key\": \"key-8EgL2KEwrYOh3JP0mTAFSpY1yH\",\n            \"_links\": {\n                \"regen_api_key\": {\n                    \"href\": \"http://localhost:8000/v1/users/6/regen_api_key/\"\n                }\n            }\n        }\n   ]\n}  L'URL  /v1/users/  vous permet de lister tous les utilisateurs quels que soient\nleurs types.  Ajouter un utilisateur humain  Pour le moment, l'ajout d'utilisateur humain doit passer par nous, merci de nous contacter .  Il vous suffit de renseigner un email dans le champ  identifier  et une liste\nde groupes :  POST /v1/users/humans/\n{\n    \"identifier\": \"foo@example.com\",\n    \"groups\": [\"users\"]\n}  devrait retourner  HTTP 201 CREATED\n{\n    \"url\": \"http://localhost:8000/v1/users/humans/12/\",\n    \"identifier\": \"jane-doe@example.com\",\n    \"type\": \"human\",\n    \"groups\": [\"users\"]\n    \"api_key\": \"key-5mqt3p8LfxItl0UvmkZ1G3oYn6\",\n    \"_links\": {\n        \"regen_api_key\": {\n            \"href\": \"http://localhost:8000/v1/users/12/regen_api_key/\"\n        }\n    }\n}  Ajouter une application  Il vous suffit de renseigner un identifiant que vous choisissez dans le champ  identifier :  POST /v1/users/apps/\n{\n    \"identifier\": \"foo@example.com\",\n    \"groups\": [\"users\"]\n}  Ce qui devrait vous retourner :  HTTP 201 CREATED\n{\n    \"url\": \"http://localhost:8000/v1/users/apps/13/\",\n    \"identifier\": \"my-erp\",\n    \"type\": \"app\",\n    \"groups\": [\"users\"],\n    \"api_key\": \"key-XuZD7VSeq6ccy0s9548O0Rqqv6\",\n    \"_links\": {\n        \"regen_api_key\": {\n            \"href\": \"http://localhost:8000/v1/users/13/regen_api_key/\"\n        }\n    }\n}   \u24d8 Vous pouvez bien entendu modifier ou supprimer des utilisateurs existants \u00e0\nl'aide de requ\u00eates  DELETE  ou  PUT .", 
            "title": "G\u00e9rer les comptes"
        }, 
        {
            "location": "/editeur/integration/", 
            "text": "Int\u00e9gration de l'\u00e9diteur Munchmail\n\n\nInt\u00e9gration\n\n\nCes modifications sont \u00e0 effectuer dans le code de votre application (ex:\nportail d'entreprise, intranet, CMS...)\n\n\nCette application comporte un fichier d'exemple (\nstatic/test.html\n) \nVoir les fichiers d'exemple\n. \n\n\nOn ajoute la balise:\n\n\nscript src=\"bootstrap.js\"\n/script\n\n\n\n\n\u2026avec les autres assets. \nVoir un exemple du fichier bootstrap\n\n\nOn l'ex\u00e9cute sur le champ de formulaire correspondant et avec le template souhait\u00e9 :\n\n\nscript type=\"text/javascript\"\n\nvar editor = document.getElementById('newsletter-textarea');\ndocument.oasisBootstrap(editor, 'https://dentifrice.munchmail.net/path/nom-du-template.html');\n\n/script\n\n\n\n\nValidation du champ textarea du formulaire\n\n\nAfin d'\u00e9viter que le formulaire soit soumis sans validation du textarea qui contient le html du template, il faut faire appel \u00e0 la m\u00e9thode suivante (pr\u00e9sente dans bootstrap.js) :\n\n\ndocument.checkTextarea()\n\n\n\nIl faut placer cette m\u00e9thode dans la fonction ex\u00e9cut\u00e9e lors de la soumission du formulaire.\n\n\nExemple dans une fonction pr\u00e9sente sur la soumission du formulaire (pr\u00e9sent de le fichier d'exemple cit\u00e9 plus haut) :\n\n\nfunction checkFormElements() {\n    if(!document.checkTextarea()) {\n        return false;\n    }\n}\n\n\n\nContraintes diverses sur le formulaire:\n\n\n\n\nIl doit y avoir un formulaire.\n\n\nUn seul \u00e9diteur de newsletter par page.\n\n\nLe textarea est rempli au moment de l'envoi.", 
            "title": "Int\u00e9gration"
        }, 
        {
            "location": "/editeur/integration/#integration-de-lediteur-munchmail", 
            "text": "", 
            "title": "Int\u00e9gration de l'\u00e9diteur Munchmail"
        }, 
        {
            "location": "/editeur/integration/#integration", 
            "text": "Ces modifications sont \u00e0 effectuer dans le code de votre application (ex:\nportail d'entreprise, intranet, CMS...)  Cette application comporte un fichier d'exemple ( static/test.html )  Voir les fichiers d'exemple .   On ajoute la balise:  script src=\"bootstrap.js\" /script   \u2026avec les autres assets.  Voir un exemple du fichier bootstrap  On l'ex\u00e9cute sur le champ de formulaire correspondant et avec le template souhait\u00e9 :  script type=\"text/javascript\" \nvar editor = document.getElementById('newsletter-textarea');\ndocument.oasisBootstrap(editor, 'https://dentifrice.munchmail.net/path/nom-du-template.html'); /script", 
            "title": "Int\u00e9gration"
        }, 
        {
            "location": "/editeur/integration/#validation-du-champ-textarea-du-formulaire", 
            "text": "Afin d'\u00e9viter que le formulaire soit soumis sans validation du textarea qui contient le html du template, il faut faire appel \u00e0 la m\u00e9thode suivante (pr\u00e9sente dans bootstrap.js) :  document.checkTextarea()  Il faut placer cette m\u00e9thode dans la fonction ex\u00e9cut\u00e9e lors de la soumission du formulaire.  Exemple dans une fonction pr\u00e9sente sur la soumission du formulaire (pr\u00e9sent de le fichier d'exemple cit\u00e9 plus haut) :  function checkFormElements() {\n    if(!document.checkTextarea()) {\n        return false;\n    }\n}  Contraintes diverses sur le formulaire:   Il doit y avoir un formulaire.  Un seul \u00e9diteur de newsletter par page.  Le textarea est rempli au moment de l'envoi.", 
            "title": "Validation du champ textarea du formulaire"
        }, 
        {
            "location": "/editeur/creation-template/", 
            "text": "Documentation Templating Munchmail\n\n\nFichiers obligatoires :\n\n\n\n\nname_template.html\n\n\nconfiguration.json\n\n\n\n\nExemple d'Html d'un block de base\n\n\n!-- Munch Block --\n\n\ntr\n\n    \ntd\n\n        \ntable cellpadding=\"0\" cellspacing=\"0\" class=\"munch-block-intro\" width=\"600\"\n\n            \ntr\n\n                \ntd\n\n                    \nh2 class=\"munch-contentEditable\"\nLorem ipsum\nbr/\n dolor sit amet,\nbr/\n consectetur adipisicing elit. Harum earum, sed distinctio illum\n/h2\n\n                \n/td\n\n            \n/tr\n\n        \n/table\n\n    \n/td\n\n\n/tr\n\n\n!-- End Munch Block --\n\n\n\n\nLa class .munch-contentEditable sert \u00e0 rendre le contenu editable via ckEditor.\nLa class .munch-block-*, qui doit \u00e9galement \u00eatre pr\u00e9sente dans \"selector\" du fichier configuration.json qui permet le clonage de ce dernier dans le template.\n\n\nExemple de fichier de configuration\n\n\n{\n    \"styles\": {\n        \"Header\": {\n            \"selector\": \".munch-block-intro\",\n            \"icon\": \"\",\n            \"urlckEditor\": \"/ckeditor-conf/basic-conf.json\"\n        }\n    }\n}\n\n\n\n\n\nselector\n : cible l'element html du DOM pour le cloner via l'interface de gestion des blocks.\n\n\nicon\n : html s'affichant lors du choix de l'ajout de block dans le template.\n\n\nurlckEditor\n : lien vers la configuration custom de ckEditor.\n\n\nisUnique\n : si le block n'est ni supprimable, ni d\u00e9pla\u00e7able.\n\n\nlistChangeable\n : liste de class css pour changer le fond de l'element.\n\n\n\n\nPour \nlistChangeable\n, il est important de rajouter la class munch-changeable sur l'element.\n\n\nLes images peuvent \u00eatre uploadable en ajoutant la class munch-imageUploadable.", 
            "title": "Cr\u00e9ation de template"
        }, 
        {
            "location": "/editeur/creation-template/#documentation-templating-munchmail", 
            "text": "", 
            "title": "Documentation Templating Munchmail"
        }, 
        {
            "location": "/editeur/creation-template/#fichiers-obligatoires", 
            "text": "name_template.html  configuration.json", 
            "title": "Fichiers obligatoires :"
        }, 
        {
            "location": "/editeur/creation-template/#exemple-dhtml-dun-block-de-base", 
            "text": "!-- Munch Block --  tr \n     td \n         table cellpadding=\"0\" cellspacing=\"0\" class=\"munch-block-intro\" width=\"600\" \n             tr \n                 td \n                     h2 class=\"munch-contentEditable\" Lorem ipsum br/  dolor sit amet, br/  consectetur adipisicing elit. Harum earum, sed distinctio illum /h2 \n                 /td \n             /tr \n         /table \n     /td  /tr  !-- End Munch Block --   La class .munch-contentEditable sert \u00e0 rendre le contenu editable via ckEditor.\nLa class .munch-block-*, qui doit \u00e9galement \u00eatre pr\u00e9sente dans \"selector\" du fichier configuration.json qui permet le clonage de ce dernier dans le template.", 
            "title": "Exemple d'Html d'un block de base"
        }, 
        {
            "location": "/editeur/creation-template/#exemple-de-fichier-de-configuration", 
            "text": "{\n    \"styles\": {\n        \"Header\": {\n            \"selector\": \".munch-block-intro\",\n            \"icon\": \"\",\n            \"urlckEditor\": \"/ckeditor-conf/basic-conf.json\"\n        }\n    }\n}   selector  : cible l'element html du DOM pour le cloner via l'interface de gestion des blocks.  icon  : html s'affichant lors du choix de l'ajout de block dans le template.  urlckEditor  : lien vers la configuration custom de ckEditor.  isUnique  : si le block n'est ni supprimable, ni d\u00e9pla\u00e7able.  listChangeable  : liste de class css pour changer le fond de l'element.   Pour  listChangeable , il est important de rajouter la class munch-changeable sur l'element.  Les images peuvent \u00eatre uploadable en ajoutant la class munch-imageUploadable.", 
            "title": "Exemple de fichier de configuration"
        }, 
        {
            "location": "/editeur/exemple/", 
            "text": "Exemples\n\n\nle Html contenant l'iframe\n\n\n!doctype html\n\n\nhtml lang=\"fr\"\n\n\nhead\n\n    \nmeta charset=\"utf-8\"\n\n    \ntitle\nNewsletter editor\n/title\n\n    \nlink rel=\"icon\" type=\"image/png\" href=\"images/favicon.png\"\n\n    \nmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\"\n\n    \nlink rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css\"\n\n    \nstyle\n\n        h1 {\n            border-bottom: 1px solid #CCC;\n            padding-bottom: 0.3em;\n        }\n        h1,\n        label {\n            color: #666;\n        }\n        .container {\n            width: 47em;\n            margin: auto;\n        }\n        input[type=\"submit\"] {\n            background: #2e8dcd;\n            color: #FFF;\n            border: 0;\n            padding: 0.8em 2em;\n            float: right;\n            margin-top: 1em;\n        }\n        input[type=\"submit\"]:hover,\n        input[type=\"submit\"]:focus {\n            background: #3498db;\n        }\n        .form-group { margin-bottom: 1.5em; }\n        iframe { margin-top: 1em; }\n    \n/style\n\n\n/head\n\n\nbody\n\n    \ndiv class=\"container\"\n\n        \nh1\nTest d'\u00e9diteur de newsletter\n/h1\n\n        \nform name=\"form\" method=\"POST\" onsubmit=\"return checkFormElements();\"\n\n            \ndiv class=\"form-group\"\n\n                \nlabel\nExemple de champ de formulaire\n/label\n\n                \ntextarea class=\"form-control\" id=\"newsletter-textarea\" name=\"newsletter\"\n/textarea\n\n            \n/div\n\n            \ndiv\n\n                \ninput id=\"test\" type=\"submit\" class=\"form-control\"/\n\n            \n/div\n\n        \n/form\n\n    \n/div\n\n    \nscript src=\"bootstrap.js\"\n/script\n\n    \nscript type=\"text/javascript\"\n\n    var editor = document.getElementById('newsletter-textarea');\n    document.oasisBootstrap(editor, 'http://munchmail.oasiswork/mail_templates/pub/basic/basic.html');\n    \n/script\n\n    \nscript\n\n    //Validation fields function\n    function checkFormElements() {\n        if(!document.checkTextarea()) {\n            return false;\n        }\n    }\n    \n/script\n\n\n/body\n\n\n/html\n\n\n\n\nLe fichier bootstrap.js\n\n\n(function () {\n'use strict';\n    document.oasisBootstrap = function (element, template) {\n        //hide the element\n        var widthIframe = 750;\n        element.style.display = 'none';\n            var iframe = document.createElement('IFRAME');\n        iframe.id = \"crunchIframeEditeur\";\n        iframe.setAttribute('src', template);\n        iframe.style.border = '0';\n        iframe.style.width = widthIframe + 'px';\n        iframe.style.height = parseInt(window.outerHeight*0.8) + 'px';\n        element.parentNode.insertBefore(iframe, element.nextSibling);\n\n        var eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n        var eventer = window[eventMethod];\n        var messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\";\n\n        // Listen to message from child window\n        eventer(messageEvent,function(e) {\n          if(e.data.length \n 0 \n typeof e.data === 'string') {\n              element.value = e.data;\n          }\n        },false);\n\n        this.checkTextarea = function() {\n            //Position iframe\n            var rect = document.getElementById('crunchIframeEditeur').getBoundingClientRect();\n            var iframeTop = rect.top + document.body.scrollTop;\n            var iframeLeft = rect.left + document.body.scrollLeft;\n\n            var leftValue = parseFloat(widthIframe) + parseFloat(iframeLeft);\n            var divCheck = document.createElement('div');\n            divCheck.id = \"checkTextarea\";\n            var sheet = document.createElement('style');\n            sheet.innerHTML = '#checkTextarea{background:#f39c12;padding:1em;color:#FFF;border-radius:2px;box-shadow:0 5px 13px rgba(0,0,0,.2);width:200px;font-size:14px;text-align:center;position:absolute;opacity:0;-webkit-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}#checkTextarea:before{content:\"\";width:0;height:0;display:block;border-style:solid;border-color:#f39c12 transparent transparent;border-width:7px;position:absolute;z-index:20;bottom:-14px;left:50%;margin-left:-7px}';\n            document.body.appendChild(sheet);\n            divCheck.textContent = \"Merci de valider l'\u00e9diteur !\";\n            if(element.value === \"\") {\n                if(document.getElementById('checkTextarea') === null) {\n                    document.body.appendChild(divCheck);\n                }\n                var heightElement = divCheck.offsetHeight;\n                var widthElement = divCheck.offsetWidth;\n                var posTop = parseFloat(iframeTop) - parseFloat(heightElement) - 4;\n                var posLeft = parseFloat(leftValue) - parseFloat(widthElement) + 40;\n                divCheck.style.cssText = 'position: absolute; top: '+posTop+'px; left: '+posLeft+'px; opacity: 1;';\n                window.scrollTo(0, posTop -50);\n                setTimeout(function(){\n                    if(divCheck.parentNode !== null) {\n                        divCheck.parentNode.removeChild(divCheck);\n                    }\n                }, 2000);\n                return false;\n            }else {\n                return true;\n            }\n        }\n\n    };\n\n\n}());", 
            "title": "Exemple"
        }, 
        {
            "location": "/editeur/exemple/#exemples", 
            "text": "", 
            "title": "Exemples"
        }, 
        {
            "location": "/editeur/exemple/#le-html-contenant-liframe", 
            "text": "!doctype html  html lang=\"fr\"  head \n     meta charset=\"utf-8\" \n     title Newsletter editor /title \n     link rel=\"icon\" type=\"image/png\" href=\"images/favicon.png\" \n     meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" \n     link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css\" \n     style \n        h1 {\n            border-bottom: 1px solid #CCC;\n            padding-bottom: 0.3em;\n        }\n        h1,\n        label {\n            color: #666;\n        }\n        .container {\n            width: 47em;\n            margin: auto;\n        }\n        input[type=\"submit\"] {\n            background: #2e8dcd;\n            color: #FFF;\n            border: 0;\n            padding: 0.8em 2em;\n            float: right;\n            margin-top: 1em;\n        }\n        input[type=\"submit\"]:hover,\n        input[type=\"submit\"]:focus {\n            background: #3498db;\n        }\n        .form-group { margin-bottom: 1.5em; }\n        iframe { margin-top: 1em; }\n     /style  /head  body \n     div class=\"container\" \n         h1 Test d'\u00e9diteur de newsletter /h1 \n         form name=\"form\" method=\"POST\" onsubmit=\"return checkFormElements();\" \n             div class=\"form-group\" \n                 label Exemple de champ de formulaire /label \n                 textarea class=\"form-control\" id=\"newsletter-textarea\" name=\"newsletter\" /textarea \n             /div \n             div \n                 input id=\"test\" type=\"submit\" class=\"form-control\"/ \n             /div \n         /form \n     /div \n     script src=\"bootstrap.js\" /script \n     script type=\"text/javascript\" \n    var editor = document.getElementById('newsletter-textarea');\n    document.oasisBootstrap(editor, 'http://munchmail.oasiswork/mail_templates/pub/basic/basic.html');\n     /script \n     script \n    //Validation fields function\n    function checkFormElements() {\n        if(!document.checkTextarea()) {\n            return false;\n        }\n    }\n     /script  /body  /html", 
            "title": "le Html contenant l'iframe"
        }, 
        {
            "location": "/editeur/exemple/#le-fichier-bootstrapjs", 
            "text": "(function () {\n'use strict';\n    document.oasisBootstrap = function (element, template) {\n        //hide the element\n        var widthIframe = 750;\n        element.style.display = 'none';\n            var iframe = document.createElement('IFRAME');\n        iframe.id = \"crunchIframeEditeur\";\n        iframe.setAttribute('src', template);\n        iframe.style.border = '0';\n        iframe.style.width = widthIframe + 'px';\n        iframe.style.height = parseInt(window.outerHeight*0.8) + 'px';\n        element.parentNode.insertBefore(iframe, element.nextSibling);\n\n        var eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n        var eventer = window[eventMethod];\n        var messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\";\n\n        // Listen to message from child window\n        eventer(messageEvent,function(e) {\n          if(e.data.length   0   typeof e.data === 'string') {\n              element.value = e.data;\n          }\n        },false);\n\n        this.checkTextarea = function() {\n            //Position iframe\n            var rect = document.getElementById('crunchIframeEditeur').getBoundingClientRect();\n            var iframeTop = rect.top + document.body.scrollTop;\n            var iframeLeft = rect.left + document.body.scrollLeft;\n\n            var leftValue = parseFloat(widthIframe) + parseFloat(iframeLeft);\n            var divCheck = document.createElement('div');\n            divCheck.id = \"checkTextarea\";\n            var sheet = document.createElement('style');\n            sheet.innerHTML = '#checkTextarea{background:#f39c12;padding:1em;color:#FFF;border-radius:2px;box-shadow:0 5px 13px rgba(0,0,0,.2);width:200px;font-size:14px;text-align:center;position:absolute;opacity:0;-webkit-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}#checkTextarea:before{content:\"\";width:0;height:0;display:block;border-style:solid;border-color:#f39c12 transparent transparent;border-width:7px;position:absolute;z-index:20;bottom:-14px;left:50%;margin-left:-7px}';\n            document.body.appendChild(sheet);\n            divCheck.textContent = \"Merci de valider l'\u00e9diteur !\";\n            if(element.value === \"\") {\n                if(document.getElementById('checkTextarea') === null) {\n                    document.body.appendChild(divCheck);\n                }\n                var heightElement = divCheck.offsetHeight;\n                var widthElement = divCheck.offsetWidth;\n                var posTop = parseFloat(iframeTop) - parseFloat(heightElement) - 4;\n                var posLeft = parseFloat(leftValue) - parseFloat(widthElement) + 40;\n                divCheck.style.cssText = 'position: absolute; top: '+posTop+'px; left: '+posLeft+'px; opacity: 1;';\n                window.scrollTo(0, posTop -50);\n                setTimeout(function(){\n                    if(divCheck.parentNode !== null) {\n                        divCheck.parentNode.removeChild(divCheck);\n                    }\n                }, 2000);\n                return false;\n            }else {\n                return true;\n            }\n        }\n\n    };\n\n\n}());", 
            "title": "Le fichier bootstrap.js"
        }, 
        {
            "location": "/exemples/php/", 
            "text": "PHP\n\n\n?php\n// adapt it to your encoding, for ex ISO-8859-15\ndefine(\nMY_ENCODING\n, \nUTF-8\n);\n\nclass HTTPException extends Exception {}\n\n/** Class to handle encoding issues\n *\n * Otherwise, it will allow you to detect the current encoding of your\n * application and convert the data from/to API with the correct charsets.\n *\n * It helps dealing safely with json_encode and json_decode as they require utf8\n * in any case.\n * If you're sure your application is using utf-8, you can safely get rid of the\n * use of this class.\n */\nclass CharsetEncoder{\n    public function __construct($internal_encoding) {\n        $this-\ncode_encoding = $internal_encoding;//mb_internal_encoding();\n        $this-\napi_encoding = 'UTF-8';\n        $this-\nneed_transcoding = ($this-\napi_encoding != $this-\ncode_encoding);\n    }\n\n    /** Converts the array to utf-8 if needed\n     */\n    public function array_to_api($array) {\n        if ($this-\nneed_transcoding) {\n            $copy = unserialize(serialize($array));\n            array_walk_recursive($copy, function(\n$val) {\n                    if (is_string($val)) {\n                        $val = mb_convert_encoding($val, $this-\napi_encoding,\n                                                   $this-\ncode_encoding);}\n                });\n            return $copy;\n        } else {\n            return $array;\n        }\n    }\n\n    /** Converts the array from utf-8 if needed\n     */\n    public function array_from_api($array) {\n        if ($this-\nneed_transcoding) {\n            $copy = unserialize(serialize($array));\n            array_walk_recursive($copy, function(\n$val) {\n                    if (is_string($val)) {\n                        $val = mb_convert_encoding($val, $this-\ncode_encoding,\n                                                   $this-\napi_encoding);}\n                    }\n                });\n            return $copy;\n                } else {\n            return $array;\n        }\n    }\n};\n\n\n/** Classe utilitaire pour acc\u00e9der \u00e0 l'API\n *\n * Utilise php5-curl (il est donc n\u00e9cessaire de l'installer).\n * $api_key : clef d'API\n */\nclass HTTPClient{\n\n    private $ch;\n    private $base_options;\n\n    public function __construct($api_key) {\n        $this-\nbase_options = array(\n          CURLOPT_RETURNTRANSFER =\n true,\n          CURLOPT_FOLLOWLOCATION =\n true,\n          CURLOPT_USERPWD        =\n 'api:'.$api_key,\n          CURLOPT_HTTPHEADER     =\n array('Content-Type: application/json')\n        );\n        $this-\nch = curl_init();\n        $this-\nencoder = new CharsetEncoder(MY_ENCODING);\n    }\n\n    /** Handles an HTTP response, throws exception if Error\n     *\n     * @param $ok_statuses an array of acceptable statuses, if the return\n     *                     code is not within this list, an exception is\n     *                     raised.\n     * @param $out         the output, as string\n     * @returns            a structured PHP object (decoded from JSON)\n     **/\n    private function handle_return($out, $ok_statuses) {\n        if ($out === false) {\n            throw new HTTPException(curl_error($this-\nch));\n        } else {\n            $http_status = curl_getinfo($this-\nch, CURLINFO_HTTP_CODE);\n            if (! in_array($http_status, $ok_statuses)) {\n                throw new HTTPException('HTTP '.$http_status.': '.$out);\n            }\n            return json_decode($out);\n        }\n    }\n\n    /** Issue a request to the api\n     *\n     * @param $reqtype the HTTP verb (GET, PUT...)\n     * @param $data    relevant for PUT/PATCH/POST : data, as structured PHP\n     *                 object\n     */\n    public function req($reqtype, $url, $data=NULL) {\n        if ($data) {$data = $this-\nencoder-\narray_to_api($data)};\n        $json_data = json_encode($data);\n        $req_opts = array(CURLOPT_URL            =\n $url,\n                          CURLOPT_CUSTOMREQUEST  =\n $reqtype,\n                          CURLOPT_POSTFIELDS     =\n $json_data);\n        curl_setopt_array($this-\nch, $req_opts + $this-\nbase_options);\n        $out = curl_exec($this-\nch);\n        return $this-\nencoder-\narray_from_api($this-\nhandle_return($out, array(200, 201)));\n    }\n\n    // shortcuts to HTTP methods\n    public function delete($url)       {return $this-\nreq('DELETE', $url);}\n    public function get($url)          {return $this-\nreq('GET', $url);}\n    public function patch($url, $data) {return $this-\nreq('PATCH', $url, $data);}\n    public function post($url, $data)  {return $this-\nreq('POST', $url, $data);}\n    public function put($url, $data)   {return $this-\nreq('PUT', $url, $data);}\n}\n\n\n/************************\n * D\u00e9roul\u00e9 de l'exemple *\n ************************/\n\n// Param\u00e8tres\n\n$base_url = 'https://api.munchmail.net/v1';\n$client_url = $base_url.'/customers/42/';\n$api_key = 'key-xxxxxxxxxxxxx'\n\n// Initialisation du client HTTP\n$client = new HTTPClient($api_key);\n\n// R\u00e9cup\u00e9ration des informations client\n$customer = $client-\nget($client_url);\n\necho \n**** Ajout d'un domaine\\n\n;\n\n$domains_url = $base_url.'/domains/';\n\ntry {\n  $domain = $client-\npost($domains_url, array('name'=\n 'sandbox.munchmail.net'));\n  if (($domain-\nspf_status == 'ok') \n\n      ($domain-\ndkim_status == 'ok') \n\n      ($domain-\nmx_status == 'ok')) {\n      print_r($domain);\n    printf('Domaine %s bien configur\u00e9\\n');\n  } else {\n    printf('Domaine %s mal configur\u00e9\\n');\n    die();\n  }\n\n} catch (HTTPException $e) {\n  echo 'Error creating the domain, maybe it already exists';\n}\n\n\n\n\necho \n**** Cr\u00e9ation d'un message\\n\n;\n\n$messages_url = $base_url.'/messages/';\n$message = $client-\npost($messages_url, array(\n  'name'         =\n 'Newsletter de Juillet',\n  'sender_email' =\n 'newsletter@sandbox.example.com',\n  'sender_name'  =\n 'Communication ACME chaussures',\n  'subject'      =\n  \nTu peux faire tout ce que tu veux\n,\n  'html'  =\n \nh1\nMais ne marche pas sur mes chaussures en su\u00e9dine bleue\n/h1\n,\n));\n\n\nprint_r($message);\n\n// V\u00e9rification du niveau de spam.\nif ($message-\nis_spam) {\n    printf(\nSPAM ! (score: %d)\\n\n, $message-\nspam_score);\n } else {\n    printf(\npas spam (score: %d)\\n\n, $message-\nspam_score);\n}\n\n// Ajout des destinataires individuellement\u2026\n$mails_url = $base_url.'/mails/';\n\n$client-\npost($mails_url, array(\nto\n=\nsolo@domaine.tld\n,\n                \nmessage\n=\n$message-\nurl));\n\n// ou par lot\u2026\n\n$client-\npost($mails_url, array(\n  array(\nto\n=\njohn@domaine.tld\n, \nmessage\n=\n $message-\nurl),\n  array(\nto\n=\njane@domain.tld\n, \nmessage\n=\n $message-\nurl),\n  array(\nto\n=\nfox@autredomaine.tld\n, \nmessage\n=\n $message-\nurl)));\n\n// R\u00e9cup\u00e9ration de tous les destinataires\n\necho \n**** Destinataires\\n\n;\nprint_r($client-\nget($message-\n_links-\nmails-\nhref));\n\necho \n**** Preview du message\\n\n;\nprint_r($client-\nget($message-\n_links-\npreview-\nhref));\n\n// Envoi\n\nprint_r($client-\npatch($message-\nurl, array(\nstatus\n=\nsending\n)));\n\n// Consultation des optout\n\necho \n**** Consultation des opt-outs\\n\n;\nprint_r($client-\nget($customer-\n_links-\nopt_outs-\nhref));\n\n?", 
            "title": "PHP"
        }, 
        {
            "location": "/exemples/php/#php", 
            "text": "?php\n// adapt it to your encoding, for ex ISO-8859-15\ndefine( MY_ENCODING ,  UTF-8 );\n\nclass HTTPException extends Exception {}\n\n/** Class to handle encoding issues\n *\n * Otherwise, it will allow you to detect the current encoding of your\n * application and convert the data from/to API with the correct charsets.\n *\n * It helps dealing safely with json_encode and json_decode as they require utf8\n * in any case.\n * If you're sure your application is using utf-8, you can safely get rid of the\n * use of this class.\n */\nclass CharsetEncoder{\n    public function __construct($internal_encoding) {\n        $this- code_encoding = $internal_encoding;//mb_internal_encoding();\n        $this- api_encoding = 'UTF-8';\n        $this- need_transcoding = ($this- api_encoding != $this- code_encoding);\n    }\n\n    /** Converts the array to utf-8 if needed\n     */\n    public function array_to_api($array) {\n        if ($this- need_transcoding) {\n            $copy = unserialize(serialize($array));\n            array_walk_recursive($copy, function( $val) {\n                    if (is_string($val)) {\n                        $val = mb_convert_encoding($val, $this- api_encoding,\n                                                   $this- code_encoding);}\n                });\n            return $copy;\n        } else {\n            return $array;\n        }\n    }\n\n    /** Converts the array from utf-8 if needed\n     */\n    public function array_from_api($array) {\n        if ($this- need_transcoding) {\n            $copy = unserialize(serialize($array));\n            array_walk_recursive($copy, function( $val) {\n                    if (is_string($val)) {\n                        $val = mb_convert_encoding($val, $this- code_encoding,\n                                                   $this- api_encoding);}\n                    }\n                });\n            return $copy;\n                } else {\n            return $array;\n        }\n    }\n};\n\n\n/** Classe utilitaire pour acc\u00e9der \u00e0 l'API\n *\n * Utilise php5-curl (il est donc n\u00e9cessaire de l'installer).\n * $api_key : clef d'API\n */\nclass HTTPClient{\n\n    private $ch;\n    private $base_options;\n\n    public function __construct($api_key) {\n        $this- base_options = array(\n          CURLOPT_RETURNTRANSFER =  true,\n          CURLOPT_FOLLOWLOCATION =  true,\n          CURLOPT_USERPWD        =  'api:'.$api_key,\n          CURLOPT_HTTPHEADER     =  array('Content-Type: application/json')\n        );\n        $this- ch = curl_init();\n        $this- encoder = new CharsetEncoder(MY_ENCODING);\n    }\n\n    /** Handles an HTTP response, throws exception if Error\n     *\n     * @param $ok_statuses an array of acceptable statuses, if the return\n     *                     code is not within this list, an exception is\n     *                     raised.\n     * @param $out         the output, as string\n     * @returns            a structured PHP object (decoded from JSON)\n     **/\n    private function handle_return($out, $ok_statuses) {\n        if ($out === false) {\n            throw new HTTPException(curl_error($this- ch));\n        } else {\n            $http_status = curl_getinfo($this- ch, CURLINFO_HTTP_CODE);\n            if (! in_array($http_status, $ok_statuses)) {\n                throw new HTTPException('HTTP '.$http_status.': '.$out);\n            }\n            return json_decode($out);\n        }\n    }\n\n    /** Issue a request to the api\n     *\n     * @param $reqtype the HTTP verb (GET, PUT...)\n     * @param $data    relevant for PUT/PATCH/POST : data, as structured PHP\n     *                 object\n     */\n    public function req($reqtype, $url, $data=NULL) {\n        if ($data) {$data = $this- encoder- array_to_api($data)};\n        $json_data = json_encode($data);\n        $req_opts = array(CURLOPT_URL            =  $url,\n                          CURLOPT_CUSTOMREQUEST  =  $reqtype,\n                          CURLOPT_POSTFIELDS     =  $json_data);\n        curl_setopt_array($this- ch, $req_opts + $this- base_options);\n        $out = curl_exec($this- ch);\n        return $this- encoder- array_from_api($this- handle_return($out, array(200, 201)));\n    }\n\n    // shortcuts to HTTP methods\n    public function delete($url)       {return $this- req('DELETE', $url);}\n    public function get($url)          {return $this- req('GET', $url);}\n    public function patch($url, $data) {return $this- req('PATCH', $url, $data);}\n    public function post($url, $data)  {return $this- req('POST', $url, $data);}\n    public function put($url, $data)   {return $this- req('PUT', $url, $data);}\n}\n\n\n/************************\n * D\u00e9roul\u00e9 de l'exemple *\n ************************/\n\n// Param\u00e8tres\n\n$base_url = 'https://api.munchmail.net/v1';\n$client_url = $base_url.'/customers/42/';\n$api_key = 'key-xxxxxxxxxxxxx'\n\n// Initialisation du client HTTP\n$client = new HTTPClient($api_key);\n\n// R\u00e9cup\u00e9ration des informations client\n$customer = $client- get($client_url);\n\necho  **** Ajout d'un domaine\\n ;\n\n$domains_url = $base_url.'/domains/';\n\ntry {\n  $domain = $client- post($domains_url, array('name'=  'sandbox.munchmail.net'));\n  if (($domain- spf_status == 'ok')  \n      ($domain- dkim_status == 'ok')  \n      ($domain- mx_status == 'ok')) {\n      print_r($domain);\n    printf('Domaine %s bien configur\u00e9\\n');\n  } else {\n    printf('Domaine %s mal configur\u00e9\\n');\n    die();\n  }\n\n} catch (HTTPException $e) {\n  echo 'Error creating the domain, maybe it already exists';\n}\n\n\n\n\necho  **** Cr\u00e9ation d'un message\\n ;\n\n$messages_url = $base_url.'/messages/';\n$message = $client- post($messages_url, array(\n  'name'         =  'Newsletter de Juillet',\n  'sender_email' =  'newsletter@sandbox.example.com',\n  'sender_name'  =  'Communication ACME chaussures',\n  'subject'      =    Tu peux faire tout ce que tu veux ,\n  'html'  =   h1 Mais ne marche pas sur mes chaussures en su\u00e9dine bleue /h1 ,\n));\n\n\nprint_r($message);\n\n// V\u00e9rification du niveau de spam.\nif ($message- is_spam) {\n    printf( SPAM ! (score: %d)\\n , $message- spam_score);\n } else {\n    printf( pas spam (score: %d)\\n , $message- spam_score);\n}\n\n// Ajout des destinataires individuellement\u2026\n$mails_url = $base_url.'/mails/';\n\n$client- post($mails_url, array( to = solo@domaine.tld ,\n                 message = $message- url));\n\n// ou par lot\u2026\n\n$client- post($mails_url, array(\n  array( to = john@domaine.tld ,  message =  $message- url),\n  array( to = jane@domain.tld ,  message =  $message- url),\n  array( to = fox@autredomaine.tld ,  message =  $message- url)));\n\n// R\u00e9cup\u00e9ration de tous les destinataires\n\necho  **** Destinataires\\n ;\nprint_r($client- get($message- _links- mails- href));\n\necho  **** Preview du message\\n ;\nprint_r($client- get($message- _links- preview- href));\n\n// Envoi\n\nprint_r($client- patch($message- url, array( status = sending )));\n\n// Consultation des optout\n\necho  **** Consultation des opt-outs\\n ;\nprint_r($client- get($customer- _links- opt_outs- href));\n\n?", 
            "title": "PHP"
        }, 
        {
            "location": "/infra/requirements/", 
            "text": "Besoins mat\u00e9riels\n\n\n\n\n\u26a0 Cette section concerne une installation de munchmail sur vos propres serveurs.\n\n\n\n\nIl est recommand\u00e9 de pr\u00e9voir 3 machines (virtuelles) :\n\n\n\n\nune machine RabbitMQ\n\n\nune machine PostgreSQL\n\n\nune machine pour l'application elle-m\u00eame\n\n\n\n\nElles doivent-\u00eatre sur le m\u00eame r\u00e9seau local (connectivit\u00e9 \n=1Gbps).\n\n\nLes besoins les plus pressants sont en RAM, et d\u00e9pendent du nombre de mails que vous souhaitez pouvoir g\u00e9rer de mani\u00e8re concurente :\n\n\n\n\n\n\n\n\nNb. mails concurents\n\n\nRAM app\n\n\nRAM postgresql\n\n\nRAM rabbitmq\n\n\n\n\n\n\n\n\n\n\n\n\n= 10.000\n\n\n256Mio\n\n\n256Mio\n\n\n128Mio\n\n\n\n\n\n\n\n\n= 100.000\n\n\n512Mio\n\n\n512Mio\n\n\n512Mio\n\n\n\n\n\n\n\n\n= 1.000.000\n\n\n2Gio\n\n\n512Mio\n\n\n4Gio", 
            "title": "Besoins mat\u00e9riels"
        }, 
        {
            "location": "/infra/requirements/#besoins-materiels", 
            "text": "\u26a0 Cette section concerne une installation de munchmail sur vos propres serveurs.   Il est recommand\u00e9 de pr\u00e9voir 3 machines (virtuelles) :   une machine RabbitMQ  une machine PostgreSQL  une machine pour l'application elle-m\u00eame   Elles doivent-\u00eatre sur le m\u00eame r\u00e9seau local (connectivit\u00e9  =1Gbps).  Les besoins les plus pressants sont en RAM, et d\u00e9pendent du nombre de mails que vous souhaitez pouvoir g\u00e9rer de mani\u00e8re concurente :     Nb. mails concurents  RAM app  RAM postgresql  RAM rabbitmq       = 10.000  256Mio  256Mio  128Mio     = 100.000  512Mio  512Mio  512Mio     = 1.000.000  2Gio  512Mio  4Gio", 
            "title": "Besoins mat\u00e9riels"
        }, 
        {
            "location": "/faq/", 
            "text": "FAQ\n\n\nPourquoi un outil d\u00e9di\u00e9 ?\n\n\nIl est th\u00e9oriquement possible d'envoyer un email \u00e0 de nombreux destinataires,\ncependant :\n\n\n\n\non finit vite class\u00e9 en tant que spam ou rejet\u00e9s (les serveurs de destination\n  sont plus stricts sur les mails \u00ab\u202fmassifs\u202f\u00bb) ;\n\n\non n'a aucune id\u00e9e de qui re\u00e7oit ou ne re\u00e7oit pas les mails ;\n\n\npour chaque email non d\u00e9livr\u00e9, l'exp\u00e9diteur se retrouve noy\u00e9 par des\n  emails automatiques, peu digestes et nombreux.\n\n\n\n\nComment personnaliser le lien \u00ab\u202fSe d\u00e9sinscrire\u202f\u00bb ?\n\n\nUn lien est ins\u00e9r\u00e9 par d\u00e9faut \u00e0 la fin de votre document HTML pour permettre \u00e0\nvos destinataires de se d\u00e9sabonner.\n\n\nSi vous voulez que ce lien aie l'apparence de votre choix, il vous suffit de\nmettre la cha\u00eene \nUNSUBSCRIBE_URL\n l\u00e0 o\u00f9 vous voulez que l'adresse effective de\nd\u00e9sinscription apparaisse, par exemple :\n\n\nMessage ennuyeux ? Vous pouvez \na href=\"UNSUBSCRIBE_URL\"\nvous d\u00e9sinscrire\n/a\n\n\n\n\nPuis-je ajouter des pi\u00e8ces jointes ?\n\n\nOui, il faut toutefois que votre compte soit autoris\u00e9 \u00e0 le faire, contactez-nous\npour cela.\n\n\n\n\n\u26a0 Il est d\u00e9conseill\u00e9 d'utiliser des pi\u00e8ces-jointes dans des envois\nen masse\n. Il est beaucoup plus efficace d'h\u00e9berger images et pi\u00e8ces-jointes\nsur un serveur web et de fournir des liens. Cela all\u00e8ge l'envoi, l'acc\u00e9l\u00e8re et\n\u00e9vite d'encombrer les boites mail de vos destinataires.\n\n\n\n\nPour ajouter une pi\u00e8ce-jointe sur le message \n/v1/messages/1/\n :\n\n\nPOST /v1/messages/1/attachments/\nfile: votre fichier\n\n\n\nCette requ\u00eate \ndoit\n avoir un \nContent-Type\n \u00e0 \nmultipart/form-data\n \u00e0 l'inverse\nde beaucoup d'autres qui transf\u00e8rent leur contenu en \napplication/json\n.\n\n\nLes pi\u00e8ces-jointes sont v\u00e9rifi\u00e9es par un antivirus. Si un virus est d\u00e9tect\u00e9, une\nerreur 400 est renvoy\u00e9e\net le fichier rejet\u00e9, par exemple\u202f:\n\n\nHTTP 400 BAD REQUEST\n{\n   'file': ['Le fichier envoy\u00e9 contient un virus : \"Eicar-Test-Signature\"']\n}", 
            "title": "FAQ"
        }, 
        {
            "location": "/faq/#faq", 
            "text": "Pourquoi un outil d\u00e9di\u00e9 ?  Il est th\u00e9oriquement possible d'envoyer un email \u00e0 de nombreux destinataires,\ncependant :   on finit vite class\u00e9 en tant que spam ou rejet\u00e9s (les serveurs de destination\n  sont plus stricts sur les mails \u00ab\u202fmassifs\u202f\u00bb) ;  on n'a aucune id\u00e9e de qui re\u00e7oit ou ne re\u00e7oit pas les mails ;  pour chaque email non d\u00e9livr\u00e9, l'exp\u00e9diteur se retrouve noy\u00e9 par des\n  emails automatiques, peu digestes et nombreux.   Comment personnaliser le lien \u00ab\u202fSe d\u00e9sinscrire\u202f\u00bb ?  Un lien est ins\u00e9r\u00e9 par d\u00e9faut \u00e0 la fin de votre document HTML pour permettre \u00e0\nvos destinataires de se d\u00e9sabonner.  Si vous voulez que ce lien aie l'apparence de votre choix, il vous suffit de\nmettre la cha\u00eene  UNSUBSCRIBE_URL  l\u00e0 o\u00f9 vous voulez que l'adresse effective de\nd\u00e9sinscription apparaisse, par exemple :  Message ennuyeux ? Vous pouvez  a href=\"UNSUBSCRIBE_URL\" vous d\u00e9sinscrire /a   Puis-je ajouter des pi\u00e8ces jointes ?  Oui, il faut toutefois que votre compte soit autoris\u00e9 \u00e0 le faire, contactez-nous\npour cela.   \u26a0 Il est d\u00e9conseill\u00e9 d'utiliser des pi\u00e8ces-jointes dans des envois\nen masse . Il est beaucoup plus efficace d'h\u00e9berger images et pi\u00e8ces-jointes\nsur un serveur web et de fournir des liens. Cela all\u00e8ge l'envoi, l'acc\u00e9l\u00e8re et\n\u00e9vite d'encombrer les boites mail de vos destinataires.   Pour ajouter une pi\u00e8ce-jointe sur le message  /v1/messages/1/  :  POST /v1/messages/1/attachments/\nfile: votre fichier  Cette requ\u00eate  doit  avoir un  Content-Type  \u00e0  multipart/form-data  \u00e0 l'inverse\nde beaucoup d'autres qui transf\u00e8rent leur contenu en  application/json .  Les pi\u00e8ces-jointes sont v\u00e9rifi\u00e9es par un antivirus. Si un virus est d\u00e9tect\u00e9, une\nerreur 400 est renvoy\u00e9e\net le fichier rejet\u00e9, par exemple\u202f:  HTTP 400 BAD REQUEST\n{\n   'file': ['Le fichier envoy\u00e9 contient un virus : \"Eicar-Test-Signature\"']\n}", 
            "title": "FAQ"
        }, 
        {
            "location": "/annexes/", 
            "text": "Annexes\n\n\nModifications appliqu\u00e9es aux emails\n\n\n\n\nles images sont d\u00e9tach\u00e9es et h\u00e9berg\u00e9es sur nos serveurs (pour \u00e9viter de\n  surcharger les votres)\n\n\nle javascript et le flash sont retir\u00e9s (ils ne sont que\n  \nrarement support\u00e9s\n)\n\n\nles \u00e9ventuelles erreurs HTML sont corrig\u00e9es\n\n\nles r\u00e8gles CSS sont appliqu\u00e9es directement aux attributs (on parle\n  d'\ninlining\n), la plupart des clients mail ne supportant pas les styles externes.\n\n\n\n\nStatuts de Mail\n\n\nStatuts pour les ressource de type \nmail\n qu'on \u00e9galement dans\n\nles statistiques\n.\n\n\n\n\nunknown\n : le message n'est pas encore entr\u00e9 dans\n    l'infrastructure mail\n\n\nsent\n : le message a \u00e9t\u00e9 accept\u00e9 par les serveurs d'oasiswork est en cours\n    d'acheminement\n\n\ndelivered\n : le message a \u00e9t\u00e9 remis au serveur du destinataire\n\n\nsoftbounced\n : le message a \u00e9t\u00e9 rejet\u00e9 \u00e0 plusieurs reprises,\n    il n'a pu \u00eatre remis.\n\n\nhardbounced\n : le message a \u00e9t\u00e9 rejet\u00e9 net par le serveur distant\n    (hard-bounce).\n\n\n\n\nTypes de d\u00e9sinscriptions (opt-outs)\n\n\n\n\nmail\n Un mail de d\u00e9sinscription a \u00e9t\u00e9 envoy\u00e9 \u00e0 l'adresse \nList-Unsubscribe\n\n    mentionn\u00e9e dans un mail re\u00e7u par un de vos destinataires ;\n\n\nweb\n Un destinataire a utilis\u00e9 le formulaire du lien ins\u00e9r\u00e9 en bas de\n    l'email pour se d\u00e9sinscrire\n\n\nfeedback-loop\n Le destinataire a marqu\u00e9 un de vos messages comme spam, et\n    son h\u00e9bergeur nous a remont\u00e9 l'information\n\n\nbounce\n L'adresse du destinataire a produit trop d'erreurs de livraisons\n    (ex: boite pleine, adresse inexistante\u2026)\n\n\nabuse\n Le destinataire a signal\u00e9 le message comme \u00e9tant un abus", 
            "title": "Annexes"
        }, 
        {
            "location": "/annexes/#annexes", 
            "text": "", 
            "title": "Annexes"
        }, 
        {
            "location": "/annexes/#modifications-appliquees-aux-emails", 
            "text": "les images sont d\u00e9tach\u00e9es et h\u00e9berg\u00e9es sur nos serveurs (pour \u00e9viter de\n  surcharger les votres)  le javascript et le flash sont retir\u00e9s (ils ne sont que\n   rarement support\u00e9s )  les \u00e9ventuelles erreurs HTML sont corrig\u00e9es  les r\u00e8gles CSS sont appliqu\u00e9es directement aux attributs (on parle\n  d' inlining ), la plupart des clients mail ne supportant pas les styles externes.", 
            "title": "Modifications appliqu\u00e9es aux emails"
        }, 
        {
            "location": "/annexes/#statuts-de-mail", 
            "text": "Statuts pour les ressource de type  mail  qu'on \u00e9galement dans les statistiques .   unknown  : le message n'est pas encore entr\u00e9 dans\n    l'infrastructure mail  sent  : le message a \u00e9t\u00e9 accept\u00e9 par les serveurs d'oasiswork est en cours\n    d'acheminement  delivered  : le message a \u00e9t\u00e9 remis au serveur du destinataire  softbounced  : le message a \u00e9t\u00e9 rejet\u00e9 \u00e0 plusieurs reprises,\n    il n'a pu \u00eatre remis.  hardbounced  : le message a \u00e9t\u00e9 rejet\u00e9 net par le serveur distant\n    (hard-bounce).", 
            "title": "Statuts de Mail"
        }, 
        {
            "location": "/annexes/#types-de-desinscriptions-opt-outs", 
            "text": "mail  Un mail de d\u00e9sinscription a \u00e9t\u00e9 envoy\u00e9 \u00e0 l'adresse  List-Unsubscribe \n    mentionn\u00e9e dans un mail re\u00e7u par un de vos destinataires ;  web  Un destinataire a utilis\u00e9 le formulaire du lien ins\u00e9r\u00e9 en bas de\n    l'email pour se d\u00e9sinscrire  feedback-loop  Le destinataire a marqu\u00e9 un de vos messages comme spam, et\n    son h\u00e9bergeur nous a remont\u00e9 l'information  bounce  L'adresse du destinataire a produit trop d'erreurs de livraisons\n    (ex: boite pleine, adresse inexistante\u2026)  abuse  Le destinataire a signal\u00e9 le message comme \u00e9tant un abus", 
            "title": "Types de d\u00e9sinscriptions (opt-outs)"
        }
    ]
}